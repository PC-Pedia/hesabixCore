import{a as r,c as h,S as g,_ as G}from"./main-9b36f05f.js";import{r as $,_ as S,a as D,b as V,c as L}from"./robika-0d07fc15.js";import{r as U}from"./recList-3e892c5b.js";import{A as N}from"./archiveUpload-31fb560b.js";import{n as O}from"./notes-77134a25.js";import{h as T,r as B,a as p,o as l,s as n,e as t,u as i,au as R,ao as m,d,c as P,A as v,t as e,b as c,B as C,ar as A,ab as a,w as b,F as k,C as W}from"./vendor-adef9cb4.js";const j=T({name:"viewInvoice",components:{ArchiveUpload:N,rec:$,recList:U,notes:O},watch:{"PayWindowsState.submited"(o,s){this.PayWindowsState.submited=!1,o&&(this.loadData(),this.recModal.hide())},"recListWindowsState.submited"(o,s){this.recListWindowsState.submited=!1,o&&this.loadData()}},data:()=>({printOptions:{pays:!0,note:!0,bidInfo:!0,taxInfo:!0,discountInfo:!0,paper:"A4-L"},notes:{count:0},PayWindowsState:{submited:!1},recListWindowsState:{submited:!1},recModal:{},recListModal:{},loading:B(!0),shortlink_url:"",copy_label:"کپی",send_message_label:"ارسال",bid:{legal_name:""},item:{doc:{id:0,date:null,code:null,des:"",amount:0,profit:0},relatedDocs:[],rows:[]},person:{nikename:null,mobile:""},commoditys:[],totalRec:0,totalDiscount:0,totalTax:0,transferCost:0,discountAll:0,mobileHeaders:[{text:"کالا",value:"commodity.name"},{text:"تعداد",value:"count"},{text:"مبلغ کل",value:"sumTotal"}]}),setup(){},methods:{copyToCliboard(){navigator.clipboard.writeText(this.shortlink_url),this.copy_label="کپی شد !"},loadData(){this.loading=!0,this.commoditys=[],r.post("/api/accounting/doc/get",{code:this.$route.params.id}).then(o=>{this.item=o.data,this.item.doc.shortlink!=null?this.shortlink_url=h()+"/sl/sell/"+localStorage.getItem("activeBid")+"/"+this.item.doc.shortlink:this.shortlink_url=h()+"/sl/sell/"+localStorage.getItem("activeBid")+"/"+this.item.doc.id,o.data.relatedDocs.forEach(s=>{this.totalRec+=parseInt(s.amount)})}),r.post("/api/sell/get/info/"+this.$route.params.id).then(o=>{this.person=o.data.person,this.discountAll=o.data.discountAll,this.transferCost=o.data.transferCost,this.item.doc.profit=o.data.profit,o.data.rows.forEach(s=>{s.commodity!=null&&(this.totalTax+=parseInt(s.tax),this.totalDiscount+=parseInt(s.discount),this.commoditys.push({commodity:s.commodity,count:s.commodity_count,price:parseInt((parseInt(s.bs)-parseInt(s.tax)+parseInt(s.discount))/parseFloat(s.commodity_count)),bs:s.bs,bd:s.bd,id:s.commodity.id,des:s.des,discount:s.discount,tax:s.tax,sumWithoutTax:s.bs-s.tax,sumTotal:s.bs,table:53}))})}),r.post("/api/business/get/info/"+localStorage.getItem("activeBid")).then(o=>{this.bid=o.data,this.loading=!1}),r.post("/api/printers/options/info").then(o=>{this.isLoading=!1,this.printOptions=o.data.sell})},sendSMS(){this.loading=!0,new RegExp("^(\\+98|0)?9\\d{9}$").test(this.person.mobile)?(this.send_message_label="در حال ارسال...",r.post("/api/sms/send/sell-invoice/"+this.item.doc.id+"/"+this.person.mobile).then(s=>{s.data.result==2?(g.fire({text:"اعتبار سرویس پیامک کافی نیست.",icon:"error",confirmButtonText:"قبول"}),this.send_message_label="ارسال"):s.data.result==1&&(g.fire({text:"پیامک اطلاع رسانی ارسال شد.",icon:"success",confirmButtonText:"قبول"}),this.send_message_label="ارسال شد!"),this.loading=!1})):(g.fire({text:"شماره موبایل وارد شده نا معتبر است.",icon:"error",confirmButtonText:"قبول"}),this.loading=!1)},printInvoice(o=!0,s=!0){r.post("/api/sell/print/invoice",{code:this.$route.params.id,pdf:o,printers:s,printOptions:this.printOptions}).then(y=>{this.printID=y.data.id,window.open(this.$API_URL+"/front/print/"+this.printID,"_blank","noreferrer")})}},mounted(){this.loadData(),this.recModal=new bootstrap.Modal(document.getElementById("rec-modal")),this.recListModal=new bootstrap.Modal(document.getElementById("rec-list-modal"))}});const H={class:"modal fade",id:"printModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"printModalLabel","aria-hidden":"true"},q={class:"modal-dialog"},J={class:"modal-content"},K={class:"modal-body"},Q={class:"form-floating mb-2"},X={class:"form-check form-switch"},Y={class:"form-check form-switch"},Z={class:"form-check form-switch"},tt={class:"form-check form-switch"},st={class:"form-check form-switch"},ot={class:"modal-footer"},ut={class:"block block-content-full"},it={id:"fixed-header",class:"block-header block-header-default bg-gray-light"},et={class:"block-title text-primary-dark"},lt={class:"block-options"},nt={type:"button",class:"btn btn-sm btn-warning text-light me-2","data-bs-toggle":"modal","data-bs-target":"#notesModal"},at={class:"badge text-bg-dark me-2"},dt={class:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",id:"rec-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel1","aria-hidden":"true"},rt={class:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",id:"rec-list-modal",tabindex:"-1","aria-hidden":"true"},pt={class:"modal-dialog modal-lg"},mt={class:"modal-content"},ct={class:"modal-body"},bt={class:"modal-footer"},ft={type:"button",ref:"btnCloseModalRec",class:"btn btn-secondary btn-close-modal","data-bs-dismiss":"modal"},gt={type:"button",class:"btn btn-sm btn-success ms-2","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},yt={class:"modal fade","data-bs-backdrop":"static","data-bs-keyboard":"false",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ht={class:"modal-dialog"},vt={class:"modal-content"},Ct={class:"modal-body"},At={class:"container"},kt={class:"row"},_t={class:"input-group mb-2"},xt={class:"input-group"},wt=["disabled"],Ft={class:"mt-2"},It=["href"],Mt=["href"],zt=["href"],Et=["href"],Gt={class:"block-content py-2 mt-2"},$t={class:"row"},St={class:"col-12"},Dt={class:"row"},Vt={class:"col-sm-6 col-md-4"},Lt={class:"input-group input-group-sm mb-3"},Ut={class:"col-sm-6 col-md-4"},Nt={class:"input-group input-group-sm mb-3"},Ot={class:"col-sm-12 col-md-4"},Tt={class:"input-group input-group-sm mb-3"},Bt={class:"row"},Rt={class:"col-sm-6 col-md-4"},Pt={class:"input-group input-group-sm mb-3"},Wt={class:"col-sm-6 col-md-4"},jt={class:"input-group input-group-sm mb-3"},Ht={class:"col-sm-6 col-md-4"},qt={class:"input-group input-group-sm mb-3"},Jt={class:"col-sm-6 col-md-3"},Kt={class:"input-group input-group-sm mb-3"},Qt={class:"col-sm-12 col-md-9"},Xt={class:"input-group input-group-sm mb-3"},Yt={class:"p-1 m-0"},Zt={class:"list-group"},ts={class:"list-group-item d-flex justify-content-between align-items-center"},ss={class:"badge text-bg-primary rounded-pill"},os={class:"list-group-item d-flex justify-content-between align-items-center"},us={class:"badge text-bg-primary rounded-pill"},is={class:"list-group-item d-flex justify-content-between align-items-center"},es={class:"badge text-bg-primary rounded-pill"},ls={class:"list-group-item d-flex justify-content-between align-items-center"},ns={class:"row pt-2"},as={class:"col-sm-6 col-md-4"},ds={class:"input-group input-group-sm mb-3"},rs=["value"],ps={class:"col-sm-6 col-md-4"},ms={class:"input-group input-group-sm mb-3"},cs={key:0,type:"text",readonly:"readonly",value:"تسویه شده",class:"form-control text-success","aria-describedby":"inputGroup-sizing-sm"},bs={key:1,type:"text",readonly:"readonly",value:"تسویه نشده",class:"form-control text-danger","aria-describedby":"inputGroup-sizing-sm"},fs={class:"col-sm-6 col-md-4"},gs={key:0,class:"input-group input-group-sm mb-3"},ys=["value"],hs={key:1,class:"input-group input-group-sm mb-3"},vs=["value"],Cs={class:"row"},As={class:"col-sm-6 col-md-4"},ks={class:"input-group input-group-sm mb-3"},_s=["value"],xs={class:"col-sm-6 col-md-4"},ws={class:"input-group input-group-sm mb-3"},Fs=["value"],Is={class:"col-sm-6 col-md-4"},Ms={class:"input-group input-group-sm mb-3"},zs=["value"],Es={class:"block block-rounded"},Gs={class:"block-content p-0"},$s={key:0,class:"table border-0 table-borderless table-striped table-vcenter fs-sm"},Ss={class:"text-center"},Ds={class:"fw-semibold",style:{width:"100px"}},Vs={class:"fw-semibold"},Ls={class:"fw-semibold"},Us={key:0,class:"text-center"},Ns={key:1,class:"text-center py-2 text-danger"};function Os(o,s,y,Ts,Bs,Rs){const _=p("archive-upload"),x=p("notes"),w=p("rec"),F=p("rec-list"),I=p("EasyDataTable"),M=p("router-link");return l(),n(k,null,[t("div",H,[t("div",q,[t("div",J,[s[31]||(s[31]=t("div",{class:"modal-header bg-primary-light text-white"},[t("h1",{class:"modal-title fs-5",id:"printModalLabel"},"چاپ فاکتور"),t("div",{class:"block-options"},[t("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})])],-1)),t("div",K,[s[29]||(s[29]=t("p",{class:"mb-2"},"برای تغییر تنظیمات پیشفرض به بخش تنظیمات چاپ مراجعه نمایید",-1)),t("div",Q,[i(t("select",{"onUpdate:modelValue":s[0]||(s[0]=u=>o.printOptions.paper=u),class:"form-select"},s[22]||(s[22]=[t("option",{value:"A4-L"},"A4 افقی",-1),t("option",{value:"A4"},"A4 عمودی",-1),t("option",{value:"A5-L"},"A5 افقی",-1),t("option",{value:"A5"},"A5 عمودی",-1)]),512),[[R,o.printOptions.paper]]),s[23]||(s[23]=t("label",null,"سایز کاغذ و حالت چاپ",-1))]),t("div",X,[i(t("input",{class:"form-check-input","onUpdate:modelValue":s[1]||(s[1]=u=>o.printOptions.bidInfo=u),type:"checkbox"},null,512),[[m,o.printOptions.bidInfo]]),s[24]||(s[24]=t("label",{class:"form-check-label"},"اطلاعات کسب‌وکار",-1))]),t("div",Y,[i(t("input",{class:"form-check-input","onUpdate:modelValue":s[2]||(s[2]=u=>o.printOptions.pays=u),type:"checkbox"},null,512),[[m,o.printOptions.pays]]),s[25]||(s[25]=t("label",{class:"form-check-label"},"نمایش پرداخت‌های فاکتور",-1))]),t("div",Z,[i(t("input",{class:"form-check-input","onUpdate:modelValue":s[3]||(s[3]=u=>o.printOptions.note=u),type:"checkbox"},null,512),[[m,o.printOptions.note]]),s[26]||(s[26]=t("label",{class:"form-check-label"},"یاداشت پایین فاکتور",-1))]),t("div",tt,[i(t("input",{class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=u=>o.printOptions.taxInfo=u),type:"checkbox"},null,512),[[m,o.printOptions.taxInfo]]),s[27]||(s[27]=t("label",{class:"form-check-label"},"مالیات به تفکیک اقلام",-1))]),t("div",st,[i(t("input",{class:"form-check-input","onUpdate:modelValue":s[5]||(s[5]=u=>o.printOptions.discountInfo=u),type:"checkbox"},null,512),[[m,o.printOptions.discountInfo]]),s[28]||(s[28]=t("label",{class:"form-check-label"},"تخفیف به تفکیک اقلام",-1))])]),t("div",ot,[t("button",{class:"btn btn-primary mx-2",onClick:s[6]||(s[6]=u=>o.printInvoice()),type:"button"},s[30]||(s[30]=[t("i",{class:"si si-printer me-1"},null,-1),t("span",{class:""},"چاپ",-1)]))])])])]),t("div",ut,[t("div",it,[t("h3",et,[t("button",{onClick:s[7]||(s[7]=u=>o.$router.back()),type:"button",class:"float-start d-none d-sm-none d-md-block btn btn-sm btn-link text-warning"},s[32]||(s[32]=[t("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),s[33]||(s[33]=t("i",{class:"fas fa-file-invoice-dollar"},null,-1)),s[34]||(s[34]=d(" مشاهده فاکتور "))]),t("div",lt,[this.item.doc.id!=0?(l(),P(_,{key:0,docid:this.item.doc.id,doctype:"sell",cat:"sell"},null,8,["docid"])):v("",!0),t("button",nt,[t("span",at,e(this.notes.count),1),s[35]||(s[35]=t("i",{class:"fa-regular fa-note-sticky me-1"},null,-1)),s[36]||(s[36]=t("span",{class:"d-none d-sm-inline-block"},"یاداشت‌‌ها",-1))]),c(x,{stat:o.notes,code:this.$route.params.id,typeNote:"sell"},null,8,["stat","code"]),i(t("button",{type:"button",class:"btn btn-sm btn-danger",onClick:s[8]||(s[8]=u=>this.recModal.show())},s[37]||(s[37]=[t("i",{class:"fas fa-money-bill-1-wave"},null,-1),t("span",{class:"d-none d-sm-inline-block"},"ثبت دریافت",-1)]),512),[[C,parseInt(this.item.doc.amount)>parseInt(this.totalRec)]]),t("div",dt,[c(w,{ref:"submitPay",windowsState:this.PayWindowsState,person:this.person.id,"original-doc":this.item.doc.code,"total-amount":parseInt(this.item.doc.amount)-parseInt(this.totalRec)},null,8,["windowsState","person","original-doc","total-amount"])]),t("button",{type:"button",class:"btn btn-sm btn-info ms-2",onClick:s[9]||(s[9]=u=>this.recListModal.show())},s[38]||(s[38]=[t("i",{class:"fas fa-arrow-alt-circle-down"},null,-1),t("span",{class:"d-none d-sm-inline-block"},"دریافت‌ها",-1)])),t("div",rt,[t("div",pt,[t("div",mt,[s[39]||(s[39]=A('<div class="modal-header" data-v-719b0e65><h1 class="modal-title fs-5" id="exampleModalLabel1" data-v-719b0e65><i class="fas fa-arrow-alt-circle-down ms-2" data-v-719b0e65></i> دریافت‌ها </h1><div class="block-options" data-v-719b0e65><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-719b0e65></button></div></div>',1)),t("div",ct,[c(F,{ref:"recListRef",windowsState:this.recListWindowsState,items:this.item.relatedDocs},null,8,["windowsState","items"])]),t("div",bt,[t("button",ft,"بازگشت",512)])])])]),i(t("button",gt,s[40]||(s[40]=[t("i",{class:"fas fa-share-nodes"},null,-1),t("span",{class:"d-none d-sm-inline-block"},"اشتراک گذاری",-1)]),512),[[C,this.bid.shortlinks]]),t("div",yt,[t("div",ht,[t("div",vt,[s[48]||(s[48]=A('<div class="modal-header" data-v-719b0e65><h1 class="modal-title fs-5" id="exampleModalLabel" data-v-719b0e65><i class="fas fa-share-nodes" data-v-719b0e65></i> اشتراک گذاری </h1><div class="block-options" data-v-719b0e65><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-719b0e65></button></div></div>',1)),t("div",Ct,[t("div",At,[t("div",kt,[t("div",_t,[s[41]||(s[41]=t("div",{class:"input-group-text"},[t("i",{class:"fa fa-paperclip me-2"}),d(" پیوند فاکتور ")],-1)),i(t("input",{Readonly:"Readonly",type:"text",class:"form-control","onUpdate:modelValue":s[10]||(s[10]=u=>o.shortlink_url=u)},null,512),[[a,o.shortlink_url]]),t("button",{class:"btn btn-outline-success",type:"button",onClick:s[11]||(s[11]=u=>o.copyToCliboard())},e(this.copy_label),1)]),t("div",xt,[s[42]||(s[42]=t("div",{class:"input-group-text"},[t("i",{class:"fa fa-message me-2"}),d(" ارسال پیامک ")],-1)),i(t("input",{type:"text",class:"form-control","onUpdate:modelValue":s[12]||(s[12]=u=>this.person.mobile=u)},null,512),[[a,this.person.mobile]]),t("button",{disabled:this.loading,class:"btn btn-outline-success",type:"button",onClick:s[13]||(s[13]=u=>o.sendSMS())},e(this.send_message_label),9,wt)])]),s[47]||(s[47]=t("div",{class:"mt-3"},[t("i",{class:"fas fa-share-nodes me-3"}),t("label",null,"اشتراک گذاری در شبکه‌های اجتماعی")],-1)),t("div",Ft,[t("a",{target:"_blank",href:"tg://msg?text="+this.shortlink_url},s[43]||(s[43]=[t("img",{src:S,class:"m-3",style:{"max-width":"30px"}},null,-1)]),8,It),t("a",{target:"_blank",href:"et://msg_url?url="+this.shortlink_url},s[44]||(s[44]=[t("img",{src:D,class:"m-3",style:{"max-width":"30px"}},null,-1)]),8,Mt),t("a",{target:"_blank",href:"https://ble.ir/share/url?url="+this.shortlink_url},s[45]||(s[45]=[t("img",{src:V,class:"m-3",style:{"max-width":"30px"}},null,-1)]),8,zt),t("a",{target:"_blank",href:"https://ble.ir/share/url?url="+this.shortlink_url},s[46]||(s[46]=[t("img",{src:L,class:"m-3",style:{"max-width":"30px"}},null,-1)]),8,Et)])])]),s[49]||(s[49]=t("div",{class:"modal-footer"},[t("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"بازگشت")],-1))])])]),s[50]||(s[50]=t("button",{type:"button",class:"btn btn-sm btn-primary mx-2","data-bs-toggle":"modal","data-bs-target":"#printModal"},[t("i",{class:"si si-printer me-1"}),t("span",{class:"d-none d-sm-inline-block"},"چاپ فاکتور")],-1))])]),t("div",Gt,[t("div",$t,[t("div",St,[t("div",Dt,[t("div",Vt,[t("div",Lt,[s[51]||(s[51]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"شماره",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[14]||(s[14]=u=>o.item.doc.code=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.item.doc.code]])])]),t("div",Ut,[t("div",Nt,[s[52]||(s[52]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"تاریخ",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[15]||(s[15]=u=>o.item.doc.date=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.item.doc.date]])])]),t("div",Ot,[t("div",Tt,[s[53]||(s[53]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"شرح",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[16]||(s[16]=u=>o.item.doc.des=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.item.doc.des]])])])]),s[74]||(s[74]=t("b",{class:"ps-2"},"خریدار",-1)),t("div",Bt,[t("div",Rt,[t("div",Pt,[s[54]||(s[54]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"نام",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[17]||(s[17]=u=>o.person.nikename=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.person.nikename]])])]),t("div",Wt,[t("div",jt,[s[55]||(s[55]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"موبایل",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[18]||(s[18]=u=>o.person.mobile=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.person.mobile]])])]),t("div",Ht,[t("div",qt,[s[56]||(s[56]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"تلفن",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[19]||(s[19]=u=>o.person.tel=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.person.tel]])])]),t("div",Jt,[t("div",Kt,[s[57]||(s[57]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"کد پستی",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[20]||(s[20]=u=>o.person.postalcode=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.person.postalcode]])])]),t("div",Qt,[t("div",Xt,[s[58]||(s[58]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"آدرس",-1)),i(t("input",{type:"text",readonly:"readonly","onUpdate:modelValue":s[21]||(s[21]=u=>o.person.address=u),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,512),[[a,o.person.address]])])])]),s[75]||(s[75]=t("b",{class:"ps-2"},"اقلام",-1)),c(I,{"table-class-name":"customize-table",headers:o.mobileHeaders,items:o.commoditys,"show-index":"",alternating:"","theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:o.loading},{"item-sumTotal":b(({sumTotal:u})=>[d(e(o.$filters.formatNumber(u)),1)]),"item-count":b(({count:u,commodity:f})=>[d(e(u)+" "+e(f.unit),1)]),expand:b(({tax:u,discount:f,des:z,price:E})=>[t("div",Yt,[t("ul",Zt,[t("li",ts,[s[59]||(s[59]=d(" قیمت واحد ")),t("span",ss,e(o.$filters.formatNumber(E)),1)]),t("li",os,[s[60]||(s[60]=d(" تخفیف ")),t("span",us,e(o.$filters.formatNumber(f)),1)]),t("li",is,[s[61]||(s[61]=d(" مالیات ")),t("span",es,e(o.$filters.formatNumber(u)),1)]),t("li",ls," شرح: "+e(z),1)])])]),_:1},8,["headers","items","loading"]),t("div",ns,[t("div",as,[t("div",ds,[s[62]||(s[62]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"جمع کل",-1)),t("input",{type:"text",readonly:"readonly",value:this.$filters.formatNumber(this.item.doc.amount),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,8,rs)])]),t("div",ps,[t("div",ms,[s[63]||(s[63]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"وضعیت",-1)),parseInt(this.item.doc.amount)<=parseInt(this.totalRec)?(l(),n("input",cs)):(l(),n("input",bs))])]),t("div",fs,[parseInt(this.item.doc.profit)>=0?(l(),n("div",gs,[s[64]||(s[64]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"سود فاکتور",-1)),t("input",{type:"text",readonly:"readonly",value:this.$filters.formatNumber(Math.abs(this.item.doc.profit)),class:"form-control text-success"},null,8,ys)])):(l(),n("div",hs,[s[65]||(s[65]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"زیان فاکتور",-1)),t("input",{type:"text",readonly:"readonly",value:this.$filters.formatNumber(Math.abs(this.item.doc.profit)),class:"form-control text-danger"},null,8,vs)]))])]),t("div",Cs,[t("div",As,[t("div",ks,[s[66]||(s[66]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"مالیات",-1)),t("input",{type:"text",readonly:"readonly",value:this.$filters.formatNumber(this.totalTax),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,8,_s)])]),t("div",xs,[t("div",ws,[s[67]||(s[67]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"تخفیف",-1)),t("input",{type:"text",readonly:"readonly",value:this.$filters.formatNumber(this.discountAll),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,8,Fs)])]),t("div",Is,[t("div",Ms,[s[68]||(s[68]=t("span",{class:"input-group-text",id:"inputGroup-sizing-sm"},"هزینه حمل و نقل",-1)),t("input",{type:"text",readonly:"readonly",value:this.$filters.formatNumber(this.transferCost),class:"form-control","aria-describedby":"inputGroup-sizing-sm"},null,8,zs)])])]),t("div",Es,[s[73]||(s[73]=t("div",{class:"block-header block-header-default"},[t("h3",{class:"block-title"},"دریافت‌ها"),t("div",{class:"block-options"})],-1)),t("div",Gs,[o.item.relatedDocs.length!=0?(l(),n("table",$s,[s[71]||(s[71]=t("thead",{class:"bg-primary text-light"},[t("tr",{class:"text-center"},[t("th",null,"مشاهده"),t("th",null,"شماره"),t("th",null,"تاریخ"),t("th",null,"مبلغ")])],-1)),t("tbody",null,[(l(!0),n(k,null,W(o.item.relatedDocs,u=>(l(),n("tr",Ss,[t("td",null,[c(M,{to:"/acc/accounting/view/"+u.code},{default:b(()=>s[69]||(s[69]=[t("span",{class:"text-success fa fa-eye"},null,-1)])),_:2},1032,["to"])]),t("td",Ds,e(u.code),1),t("td",Vs,e(u.date),1),t("td",Ls,e(o.$filters.formatNumber(u.amount)),1)]))),256)),o.item.relatedDocs.length==0?(l(),n("tr",Us,s[70]||(s[70]=[t("td",{colspan:"4"}," سند پرداختی تاکنون ثبت نشده است. ",-1)]))):v("",!0)])])):(l(),n("div",Ns,s[72]||(s[72]=[t("span",null,"تاکنون سند دریافتی ثبت نشده است",-1)])))])])])])])])],64)}const Ks=G(j,[["render",Os],["__scopeId","data-v-719b0e65"]]);export{Ks as default};
