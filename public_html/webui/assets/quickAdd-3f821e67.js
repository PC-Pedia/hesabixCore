import{L as S,a as h,S as y,_ as q}from"./main-9b36f05f.js";import{h as L,a as d,o as c,s as k,c as M,A as P,b as t,w as n,d as m,t as f,e as o,u as a,ao as A,F as C,C as w,ab as u}from"./vendor-adef9cb4.js";const j=L({name:"quickAdd",props:{code:{type:String},btn:{default:!0,type:Boolean}},components:{Loading:S},data:()=>({tabs:"",dialog:!1,loading:!0,account:{name:"",cardNum:"",shabaNum:"",accountNum:""},person:{nikename:"",name:"",des:"",tel:"",mobile:"",mobile2:"",address:"",company:"",shenasemeli:"",codeeghtesadi:"",sabt:"",keshvar:"",ostan:"",shahr:"",postalcode:"",email:"",website:"",fax:"",code:0,types:[],accounts:[]},personPattern:{nikename:"",name:"",des:"",tel:"",mobile:"",mobile2:"",address:"",company:"",shenasemeli:"",codeeghtesadi:"",sabt:"",keshvar:"",ostan:"",shahr:"",postalcode:"",email:"",website:"",fax:"",code:0,types:[],accounts:[]}}),mounted(){this.loadData()},methods:{addNewcard(){this.person.accounts.push({cardNum:"",accountNum:"",shabaNum:"",bank:""})},removeCard(l){this.person.accounts.splice(l,1)},loadData(l=""){h.post("/api/person/types/get").then(s=>{this.person.types=s.data,this.loading=!1}),this.person.code=0},save(){let l=!0;this.person.mobile.length!==0&&(new RegExp("^(\\+98|0)?9\\d{9}$").test(this.person.mobile)||(l=!1,y.fire({text:"شماره موبایل وارد شده نامعتبر است.",icon:"error",confirmButtonText:"قبول"}))),this.person.nikename.length===0&&(l=!1,y.fire({text:"نام مستعار الزامی است.",icon:"error",confirmButtonText:"قبول"})),this.person.accounts.forEach(s=>{s.bank==""&&(l=!1,y.fire({text:"بخش حساب‌های بانکی به درستی تکمیل نشده است.لطفا موارد الزامی را وارد کنید.",icon:"error",confirmButtonText:"قبول"}))}),l&&(this.loading=!0,h.post("/api/person/mod/"+this.person.code,this.person).then(s=>{this.loading=!1,s.data.result==2?y.fire({text:"قبلا ثبت شده است.",icon:"error",confirmButtonText:"قبول"}):y.fire({text:"مشخصات شخص ثبت شد.",icon:"success",confirmButtonText:"قبول"}).then(()=>{this.person=this.personPattern,this.dialog=!1})}))}}}),R={class:"row"},z={class:"col-sm-12 col-md-12 mb-3"},G={class:"space-y-2"},H={class:"form-check form-switch"},I={class:"col-sm-12 col-md-12 mb-3"},J={class:"space-x-2 border rounded p-3"},K={class:"form-check form-check-inline"},O=["onUpdate:modelValue"],Q={class:"form-check-label"},W={class:"row"},X={class:"col-sm-12 col-md-6"},Y={class:"form-floating mb-4"},Z={class:"col-sm-12 col-md-6"},x={class:"form-floating mb-4"},oo={class:"col-sm-12 col-md-6"},so={class:"form-floating mb-4"},lo={class:"col-sm-12 col-md-6"},eo={class:"form-floating mb-4"},to={class:"row"},no={class:"col-sm-12 col-md-6"},ao={class:"form-floating mb-4"},uo={class:"col-sm-12 col-md-6"},io={class:"form-floating mb-4"},ro={class:"col-sm-12 col-md-6"},mo={class:"form-floating mb-4"},po={class:"row"},co={class:"col-sm-12 col-md-6"},fo={class:"form-floating mb-4"},bo={class:"col-sm-12 col-md-6"},vo={class:"form-floating mb-4"},go={class:"col-sm-12 col-md-6"},yo={class:"form-floating mb-4"},ko={class:"col-sm-12 col-md-6"},_o={class:"form-floating mb-4"},Co={class:"col-sm-12 col-md-6"},Vo={class:"form-floating mb-4"},ho={class:"col-sm-12 col-md-6"},Ao={class:"form-floating mb-4"},wo={class:"row"},Uo={class:"col-sm-12 col-md-6"},$o={class:"form-floating mb-4"},No={class:"col-sm-12 col-md-6"},Fo={class:"form-floating mb-4"},Bo={class:"col-sm-12 col-md-6"},Do={class:"form-floating mb-4"},To={class:"col-sm-12 col-md-6"},Eo={class:"form-floating mb-4"},So={class:"col-sm-12 col-md-12"},qo={class:"form-floating mb-4"},Lo={class:"row mb-3 justify-content-end text-end"},Mo={class:"col-sm-12 col-md-12"},Po={class:"row"},jo={class:"block block-rounded border border-gray mx-0 px-0"},Ro={class:"block-header bg-light"},zo={class:"block-options"},Go=["onClick"],Ho={class:"block-content"},Io={class:"row"},Jo={class:"col-sm-12 col-md-6"},Ko={class:"form-floating mb-4"},Oo=["onUpdate:modelValue"],Qo={class:"col-sm-12 col-md-6"},Wo={class:"form-floating mb-4"},Xo=["onUpdate:modelValue"],Yo={class:"col-sm-12 col-md-6"},Zo={class:"form-floating mb-4"},xo=["onUpdate:modelValue"],os={class:"col-sm-12 col-md-6"},ss={class:"form-floating mb-4"},ls=["onUpdate:modelValue"];function es(l,s,ts,ns,as,us){const _=d("v-btn"),V=d("v-tooltip"),U=d("v-spacer"),$=d("v-icon"),b=d("v-tab"),N=d("v-tabs"),F=d("v-toolbar"),v=d("v-card-text"),p=d("v-card"),g=d("v-tabs-window-item"),B=d("v-tabs-window"),D=d("v-col"),T=d("v-row"),E=d("v-dialog");return c(),k(C,null,[l.$props.btn==!0?(c(),M(_,{key:0,onClick:s[0]||(s[0]=e=>{l.loadData(),l.dialog=!0}),icon:"mdi-plus",class:"text-primary",variant:"plain",density:"compact",title:l.$t("dialog.new")},null,8,["title"])):P("",!0),t(E,{modelValue:l.dialog,"onUpdate:modelValue":s[26]||(s[26]=e=>l.dialog=e),transition:"dialog-bottom-transition",fullscreen:""},{default:n(()=>[t(p,{class:"bg-white",loading:l.loading},{default:n(()=>[t(F,{color:"toolbar",title:l.$t("drawer.person_info")},{prepend:n(()=>[t(V,{text:l.$t("dialog.back"),location:"bottom"},{activator:n(({props:e})=>[t(_,{icon:"mdi-close",onClick:s[1]||(s[1]=i=>l.dialog=!1)})]),_:1},8,["text"])]),extension:n(()=>[t(N,{color:"primary",class:"bg-light",grow:"",modelValue:l.tabs,"onUpdate:modelValue":s[3]||(s[3]=e=>l.tabs=e)},{default:n(()=>[t(b,{value:"0"},{default:n(()=>[m(f(l.$t("pages.person.basic_info")),1)]),_:1}),t(b,{value:"1"},{default:n(()=>[m(f(l.$t("pages.person.eco_info")),1)]),_:1}),t(b,{value:"2"},{default:n(()=>[m(f(l.$t("pages.person.contact_info")),1)]),_:1}),t(b,{value:"3"},{default:n(()=>[m(f(l.$t("pages.person.address")),1)]),_:1}),t(b,{value:"4"},{default:n(()=>[m(f(l.$t("pages.person.banks_accounts")),1)]),_:1})]),_:1},8,["modelValue"])]),default:n(()=>[t(U),t(_,{loading:l.loading,onClick:s[2]||(s[2]=e=>l.save()),icon:"",color:"green"},{default:n(()=>[t(V,{activator:"parent",text:l.$t("dialog.save"),location:"bottom"},null,8,["text"]),t($,{icon:"mdi-content-save"})]),_:1},8,["loading"])]),_:1},8,["title"]),t(T,{class:"pa-1"},{default:n(()=>[t(D,null,{default:n(()=>[t(B,{modelValue:l.tabs,"onUpdate:modelValue":s[25]||(s[25]=e=>l.tabs=e)},{default:n(()=>[t(g,{value:"0"},{default:n(()=>[t(p,null,{default:n(()=>[t(v,null,{default:n(()=>[o("div",R,[o("div",z,[o("div",G,[o("div",H,[a(o("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>l.person.speedAccess=e),class:"form-check-input",type:"checkbox"},null,512),[[A,l.person.speedAccess]]),s[27]||(s[27]=o("label",{class:"form-check-label"},"دسترسی سریع (در صدور فاکتور سریع فروش و سایر افزونه‌ها استفاده می شود)",-1))])])]),o("div",I,[o("div",J,[s[28]||(s[28]=o("p",{class:"py-0 my-0 text-primary"},"نوع مشتری",-1)),(c(!0),k(C,null,w(l.person.types,(e,i)=>(c(),k("div",K,[a(o("input",{onChange:s[5]||(s[5]=r=>console.log(this.person.types)),"onUpdate:modelValue":r=>l.person.types[i].checked=r,checked:"",class:"form-check-input",type:"checkbox"},null,40,O),[[A,l.person.types[i].checked]]),o("label",Q,f(e.label),1)]))),256))])])]),o("div",W,[o("div",X,[o("div",Y,[a(o("input",{"onUpdate:modelValue":s[6]||(s[6]=e=>l.person.nikename=e),class:"form-control",type:"text"},null,512),[[u,l.person.nikename]]),s[29]||(s[29]=o("label",{class:"form-label"},[o("span",{class:"text-danger"},"(لازم)"),m(" نام مستعار")],-1))])]),o("div",Z,[o("div",x,[a(o("input",{"onUpdate:modelValue":s[7]||(s[7]=e=>l.person.company=e),class:"form-control",type:"text"},null,512),[[u,l.person.company]]),s[30]||(s[30]=o("label",{class:"form-label"}," شرکت ",-1))])]),o("div",oo,[o("div",so,[a(o("input",{"onUpdate:modelValue":s[8]||(s[8]=e=>l.person.name=e),class:"form-control",type:"text"},null,512),[[u,l.person.name]]),s[31]||(s[31]=o("label",{class:"form-label"},"نام / نام خانوادگی",-1))])]),o("div",lo,[o("div",eo,[a(o("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>l.person.des=e),class:"form-control",type:"text"},null,512),[[u,l.person.des]]),s[32]||(s[32]=o("label",{class:"form-label"},"توضیحات",-1))])])])]),_:1})]),_:1})]),_:1}),t(g,{value:"1"},{default:n(()=>[t(p,null,{default:n(()=>[t(v,null,{default:n(()=>[o("div",to,[o("div",no,[o("div",ao,[a(o("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>l.person.shenasemeli=e),class:"form-control",type:"text"},null,512),[[u,l.person.shenasemeli]]),s[33]||(s[33]=o("label",{class:"form-label"},"شناسه ملی",-1))])]),o("div",uo,[o("div",io,[a(o("input",{"onUpdate:modelValue":s[11]||(s[11]=e=>l.person.sabt=e),class:"form-control",type:"text"},null,512),[[u,l.person.sabt]]),s[34]||(s[34]=o("label",{class:"form-label"},"شماره ثبت",-1))])]),o("div",ro,[o("div",mo,[a(o("input",{"onUpdate:modelValue":s[12]||(s[12]=e=>l.person.codeeghtesadi=e),class:"form-control",type:"text"},null,512),[[u,l.person.codeeghtesadi]]),s[35]||(s[35]=o("label",{class:"form-label"},"کد اقتصادی",-1))])])])]),_:1})]),_:1})]),_:1}),t(g,{value:"2"},{default:n(()=>[t(p,null,{default:n(()=>[t(v,null,{default:n(()=>[o("div",po,[o("div",co,[o("div",fo,[a(o("input",{style:{direction:"ltr"},"onUpdate:modelValue":s[13]||(s[13]=e=>l.person.mobile=e),class:"form-control",type:"text"},null,512),[[u,l.person.mobile]]),s[36]||(s[36]=o("label",{class:"form-label"},"تلفن همراه",-1))])]),o("div",bo,[o("div",vo,[a(o("input",{style:{direction:"ltr"},"onUpdate:modelValue":s[14]||(s[14]=e=>l.person.mobile2=e),class:"form-control",type:"text"},null,512),[[u,l.person.mobile2]]),s[37]||(s[37]=o("label",{class:"form-label"},"تلفن همراه دوم",-1))])]),o("div",go,[o("div",yo,[a(o("input",{style:{direction:"ltr"},"onUpdate:modelValue":s[15]||(s[15]=e=>l.person.tel=e),class:"form-control",type:"text"},null,512),[[u,l.person.tel]]),s[38]||(s[38]=o("label",{class:"form-label"},"تلفن",-1))])]),o("div",ko,[o("div",_o,[a(o("input",{style:{direction:"ltr"},"onUpdate:modelValue":s[16]||(s[16]=e=>l.person.fax=e),class:"form-control",type:"text"},null,512),[[u,l.person.fax]]),s[39]||(s[39]=o("label",{class:"form-label"},"فکس",-1))])]),o("div",Co,[o("div",Vo,[a(o("input",{style:{direction:"ltr"},"onUpdate:modelValue":s[17]||(s[17]=e=>l.person.email=e),class:"form-control",type:"text"},null,512),[[u,l.person.email]]),s[40]||(s[40]=o("label",{class:"form-label"},"پست الکترونیکی",-1))])]),o("div",ho,[o("div",Ao,[a(o("input",{style:{direction:"ltr"},"onUpdate:modelValue":s[18]||(s[18]=e=>l.person.website=e),class:"form-control",type:"text"},null,512),[[u,l.person.website]]),s[41]||(s[41]=o("label",{class:"form-label"},"وب سایت",-1))])])])]),_:1})]),_:1})]),_:1}),t(g,{value:"3"},{default:n(()=>[t(p,null,{default:n(()=>[t(v,null,{default:n(()=>[o("div",wo,[o("div",Uo,[o("div",$o,[a(o("input",{"onUpdate:modelValue":s[19]||(s[19]=e=>l.person.keshvar=e),class:"form-control",type:"text"},null,512),[[u,l.person.keshvar]]),s[42]||(s[42]=o("label",{class:"form-label"},"کشور",-1))])]),o("div",No,[o("div",Fo,[a(o("input",{"onUpdate:modelValue":s[20]||(s[20]=e=>l.person.ostan=e),class:"form-control",type:"text"},null,512),[[u,l.person.ostan]]),s[43]||(s[43]=o("label",{class:"form-label"},"استان",-1))])]),o("div",Bo,[o("div",Do,[a(o("input",{"onUpdate:modelValue":s[21]||(s[21]=e=>l.person.shahr=e),class:"form-control",type:"text"},null,512),[[u,l.person.shahr]]),s[44]||(s[44]=o("label",{class:"form-label"},"شهر",-1))])]),o("div",To,[o("div",Eo,[a(o("input",{"onUpdate:modelValue":s[22]||(s[22]=e=>l.person.postalcode=e),class:"form-control",type:"text"},null,512),[[u,l.person.postalcode]]),s[45]||(s[45]=o("label",{class:"form-label"},"کد پستی",-1))])]),o("div",So,[o("div",qo,[a(o("input",{"onUpdate:modelValue":s[23]||(s[23]=e=>l.person.address=e),class:"form-control",type:"text"},null,512),[[u,l.person.address]]),s[46]||(s[46]=o("label",{class:"form-label"},"آدرس",-1))])])])]),_:1})]),_:1})]),_:1}),t(g,{value:"4"},{default:n(()=>[t(p,null,{default:n(()=>[t(v,null,{default:n(()=>[o("div",Lo,[o("div",Mo,[o("button",{onClick:s[24]||(s[24]=e=>l.addNewcard()),type:"button",class:"btn btn-primary"},s[47]||(s[47]=[o("i",{class:"fa fa-add"},null,-1),m(" افزودن ")]))])]),(c(!0),k(C,null,w(l.person.accounts,(e,i)=>(c(),k("div",Po,[o("div",jo,[o("div",Ro,[s[49]||(s[49]=o("h3",{class:"block-title"},[o("small",{class:"text-dark"},[o("i",{class:"fa fa-bank"}),m(" حساب بانکی ")])],-1)),o("span",zo,[o("button",{class:"btn rounded-circle btn-sm btn-danger",onClick:r=>l.removeCard(i)},s[48]||(s[48]=[o("i",{class:"fa fa-trash"},null,-1)]),8,Go)])]),o("div",Ho,[o("div",Io,[o("div",Jo,[o("div",Ko,[a(o("input",{"onUpdate:modelValue":r=>l.person.accounts[i].bank=r,class:"form-control",type:"text"},null,8,Oo),[[u,l.person.accounts[i].bank]]),s[50]||(s[50]=o("label",{class:"form-label"},[o("span",{class:"text-danger"},"(لازم)"),m(" بانک ")],-1))])]),o("div",Qo,[o("div",Wo,[a(o("input",{"onUpdate:modelValue":r=>l.person.accounts[i].accountNum=r,class:"form-control",type:"text"},null,8,Xo),[[u,l.person.accounts[i].accountNum]]),s[51]||(s[51]=o("label",{class:"form-label"},"شماره حساب",-1))])]),o("div",Yo,[o("div",Zo,[a(o("input",{"onUpdate:modelValue":r=>l.person.accounts[i].cardNum=r,class:"form-control",type:"text"},null,8,xo),[[u,l.person.accounts[i].cardNum]]),s[52]||(s[52]=o("label",{class:"form-label"},"شماره کارت",-1))])]),o("div",os,[o("div",ss,[a(o("input",{"onUpdate:modelValue":r=>l.person.accounts[i].shabaNum=r,class:"form-control",type:"text"},null,8,ls),[[u,l.person.accounts[i].shabaNum]]),s[53]||(s[53]=o("label",{class:"form-label"},"شماره شبا",-1))])])])])])]))),256))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}const rs=q(j,[["render",es]]);export{rs as q};
