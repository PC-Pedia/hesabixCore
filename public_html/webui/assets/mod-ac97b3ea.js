import{_ as v,L as g,a as r,S as n}from"./main-9b36f05f.js";import{A as k}from"./archiveUpload-31fb560b.js";import{a as d,o as m,s as y,e as a,b as u,w as h,d as i,c as N,A as U,u as l,ab as e}from"./vendor-adef9cb4.js";const V={name:"mod",components:{Loading:g,archiveUpload:k},data:()=>({isLoading:!1,data:{name:"",cardNum:"",shaba:"",des:"",mobileInternetbank:"",shobe:"",accountNum:"",code:0,posNum:"",owner:"",money:{label:""}}}),mounted(){this.loadData(this.$route.params.id)},beforeRouteUpdate(o,t){this.loadData(o.params.id)},methods:{loadData(o=""){o!=""?(this.isLoading=!0,r.post("/api/bank/info/"+o).then(t=>{this.data=t.data,this.isLoading=!1})):(this.data.name="",this.data.cardNum="",this.data.shaba="",this.data.des="",this.data.mobileInternetbank="",this.data.shobe="",this.data.accountNum="",this.data.code=0,this.data.posNum="",this.data.owner="",this.data.money.label=localStorage.getItem("activeMoneyLabel"))},save(){this.data.name.length===0?n.fire({text:"نام بانک الزامی است.",icon:"error",confirmButtonText:"قبول"}):(this.isLoading=!0,r.post("/api/bank/mod/"+this.data.code,this.data).then(o=>{this.isLoading=!1,o.data.result==2?n.fire({text:"قبلا ثبت شده است.",icon:"error",confirmButtonText:"قبول"}):n.fire({text:"مشخصات بانک ثبت شد.",icon:"success",confirmButtonText:"قبول"}).then(()=>{this.$router.push("/acc/banks/list")})}))}}},w={class:"block block-content-full"},L={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},$={class:"block-title text-primary-dark"},x={class:"block-options"},B={class:"block-content py-3 vl-parent"},I={class:"container"},T={class:"row"},C={class:"col-sm-12 col-md-6"},D={class:"form-floating mb-4"},S={class:"form-floating mb-4"},A={class:"form-floating mb-4"},M={class:"form-floating mb-4"},E={class:"form-floating mb-4"},O={class:"col-sm-12 col-md-6"},P={class:"form-floating mb-4"},R={class:"form-floating mb-4"},j={class:"form-floating mb-4"},q={class:"form-floating mb-4"},z={class:"form-floating mb-4"};function F(o,t,G,H,J,b){const p=d("router-link"),f=d("archive-upload"),c=d("loading");return m(),y("div",w,[a("div",L,[a("h3",$,[u(p,{class:"text-warning mx-2 px-2",to:"/acc/banks/list"},{default:h(()=>t[12]||(t[12]=[a("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),_:1}),t[13]||(t[13]=i(" مشخصات حساب بانکی "))]),a("div",x,[this.$route.params.id!=""?(m(),N(f,{key:0,docid:this.$route.params.id,doctype:"bank",cat:"bank"},null,8,["docid"])):U("",!0),a("button",{onClick:t[0]||(t[0]=s=>b.save()),type:"button",class:"btn btn-sm btn-alt-primary"},t[14]||(t[14]=[a("i",{class:"fa fa-save"},null,-1),i(" ثبت")]))])]),a("div",B,[u(c,{color:"blue",loader:"dots",active:o.isLoading,"onUpdate:active":t[1]||(t[1]=s=>o.isLoading=s),"is-full-page":!1},null,8,["active"]),a("div",I,[a("div",T,[a("div",C,[a("div",D,[l(a("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o.data.name=s),class:"form-control",type:"text"},null,512),[[e,o.data.name]]),t[15]||(t[15]=a("label",{class:"form-label"},[a("span",{class:"text-danger"},"(لازم)"),i(" نام بانک")],-1))]),a("div",S,[l(a("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o.data.cardNum=s),class:"form-control",type:"text"},null,512),[[e,o.data.cardNum]]),t[16]||(t[16]=a("label",{class:"form-label"},"شماره کارت",-1))]),a("div",A,[l(a("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.data.shaba=s),class:"form-control",type:"text"},null,512),[[e,o.data.shaba]]),t[17]||(t[17]=a("label",{class:"form-label"},"شماره شبا",-1))]),a("div",M,[l(a("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o.data.accountNum=s),class:"form-control",type:"text"},null,512),[[e,o.data.accountNum]]),t[18]||(t[18]=a("label",{class:"form-label"},"شماره حساب",-1))]),a("div",E,[l(a("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o.data.shobe=s),class:"form-control",type:"text"},null,512),[[e,o.data.shobe]]),t[19]||(t[19]=a("label",{class:"form-label"},"شعبه",-1))])]),a("div",O,[a("div",P,[l(a("input",{readonly:"readonly","onUpdate:modelValue":t[7]||(t[7]=s=>o.data.money.label=s),class:"form-control",type:"text"},null,512),[[e,o.data.money.label]]),t[20]||(t[20]=a("label",{class:"form-label"},"نوع ارز",-1))]),a("div",R,[l(a("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>o.data.owner=s),class:"form-control",type:"text"},null,512),[[e,o.data.owner]]),t[21]||(t[21]=a("label",{class:"form-label"},"صاحب حساب",-1))]),a("div",j,[l(a("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o.data.mobileInternetbank=s),class:"form-control",type:"text"},null,512),[[e,o.data.mobileInternetbank]]),t[22]||(t[22]=a("label",{class:"form-label"},"شماره اینترنت بانک",-1))]),a("div",q,[l(a("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>o.data.posNum=s),class:"form-control",type:"text"},null,512),[[e,o.data.posNum]]),t[23]||(t[23]=a("label",{class:"form-label"},"شماره دستگاه POS",-1))]),a("div",z,[l(a("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>o.data.des=s),class:"form-control",type:"text"},null,512),[[e,o.data.des]]),t[24]||(t[24]=a("label",{class:"form-label"},"توضیحات",-1))])])])])])])}const X=v(V,[["render",F]]);export{X as default};
