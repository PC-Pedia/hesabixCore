import{_ as b,L as g,a as n,S as h}from"./main-9b36f05f.js";import{a as r,o as v,s as x,e as o,b as d,w as m,d as p,u as l,ao as i}from"./vendor-adef9cb4.js";const y={name:"mod",components:{Loading:g},data:()=>({isLoading:!1,person:null,persons:{},hakak:!1,tarash:!1,morsa:!1,ghalam:!1}),created(){this.loadData(this.$route.params.id)},methods:{loadData(a=""){this.isLoading=!0,n.post("/api/person/list/limit").then(s=>{this.persons=s.data,a!=""&&n.post("/api/person/info/"+a).then(e=>{this.person=e.data,this.morsa=e.data.plugNoghreMorsa,this.tarash=e.data.plugNoghreTarash,this.hakak=e.data.plugNoghreHakak,this.ghalam=e.data.plugNoghreGhalam}),this.isLoading=!1})},save(){this.person===null?h.fire({text:"شخصی انخاب نشده است.",icon:"error",confirmButtonText:"قبول"}):(this.isLoading=!0,n.post("/api/plugin/noghre/employess/mod/"+this.person.code,{morsa:this.morsa,tarash:this.tarash,hakak:this.hakak,ghalam:this.ghalam}).then(a=>{this.isLoading=!1,h.fire({text:"مشخصات شاغل ثبت شد.",icon:"success",confirmButtonText:"قبول"}).then(()=>{this.$router.push("/acc/plugin/noghre/employees/list")})}))}}},V={class:"block block-content-full"},L={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},_={class:"block-title text-primary-dark"},w={class:"block-content py-3 vl-parent"},N={class:"container"},U={class:"row"},$={class:"col-sm-12 col-md-6"},B={class:"form-control mb-2"},C={class:"mt-1 mb-3 border rounded-2 p-3"},T={class:"form-check form-check-inline"},D={class:"form-check form-check-inline"},M={class:"form-check form-check-inline"},S={class:"form-check form-check-inline"};function E(a,s,e,G,H,c){const u=r("router-link"),f=r("loading"),k=r("v-cob");return v(),x("div",V,[o("div",L,[o("h3",_,[d(u,{class:"text-warning mx-2 px-2",to:"/acc/persons/list"},{default:m(()=>s[7]||(s[7]=[o("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),_:1}),s[8]||(s[8]=p(" مشخصات شاغل "))])]),o("div",w,[d(f,{color:"blue",loader:"dots",active:a.isLoading,"onUpdate:active":s[0]||(s[0]=t=>a.isLoading=t),"is-full-page":!1},null,8,["active"]),o("div",N,[o("div",U,[o("div",$,[s[15]||(s[15]=o("div",{class:"alert alert-info"}," برای ثبت مشخصات شخص جدید از بخش اشخاص اقدام کنید. ",-1)),o("div",B,[s[10]||(s[10]=o("label",{class:"form-label"},"شخص",-1)),d(k,{dir:"rtl",options:this.persons,label:"nikename",modelValue:this.person,"onUpdate:modelValue":s[1]||(s[1]=t=>this.person=t)},{"no-options":m(({search:t,searching:j,loading:q})=>s[9]||(s[9]=[p(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])]),s[16]||(s[16]=o("b",null,"نوع همکاری",-1)),o("div",C,[o("div",T,[l(o("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>this.morsa=t),class:"form-check-input",type:"checkbox"},null,512),[[i,this.morsa]]),s[11]||(s[11]=o("label",{class:"form-check-label"},"مرصع‌کار",-1))]),o("div",D,[l(o("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>this.hakak=t),class:"form-check-input",type:"checkbox"},null,512),[[i,this.hakak]]),s[12]||(s[12]=o("label",{class:"form-check-label"},"حکاکی کننده",-1))]),o("div",M,[l(o("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>this.tarash=t),class:"form-check-input",type:"checkbox"},null,512),[[i,this.tarash]]),s[13]||(s[13]=o("label",{class:"form-check-label"},"تراشکار",-1))]),o("div",S,[l(o("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>this.ghalam=t),class:"form-check-input",type:"checkbox"},null,512),[[i,this.ghalam]]),s[14]||(s[14]=o("label",{class:"form-check-label"},"قلم زن",-1))])])])]),o("button",{onClick:s[6]||(s[6]=t=>c.save()),type:"button",class:"btn btn-alt-primary"},"ثبت")])])])}const F=b(y,[["render",E]]);export{F as default};
