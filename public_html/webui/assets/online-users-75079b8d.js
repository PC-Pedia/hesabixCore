import{_ as h,a as f}from"./main-9b36f05f.js";import{a as e,o as b,s as g,b as t,w as l,F as x}from"./vendor-adef9cb4.js";const w={name:"dashboard",data(){return{loading:!0,items:[],headers:[{text:"نام",value:"name",sortable:!0},{text:"تلفن",value:"mobile",sortable:!0},{text:"ایمیل",value:"email",sortable:!0},{text:"آخرین فعالیت",value:"lastActive",sortable:!0}],liveUpdate:!1,intervalId:null}},methods:{loadData(){f.post("/api/admin/onlineusers/list").then(o=>{this.items=o.data,this.loading=!1})},startLiveUpdate(){this.liveUpdate?this.intervalId=setInterval(()=>{this.loadData()},3e3):(clearInterval(this.intervalId),this.intervalId=null)}},watch:{liveUpdate(o){this.startLiveUpdate()}},mounted(){this.loadData()},beforeUnmount(){this.intervalId&&clearInterval(this.intervalId)}};function U(o,n,I,y,a,D){const s=e("v-spacer"),r=e("v-switch"),i=e("v-toolbar"),d=e("EasyDataTable"),c=e("v-col"),m=e("v-row"),_=e("v-card-text"),v=e("v-card"),u=e("v-container");return b(),g(x,null,[t(i,{color:"toolbar",title:o.$t("title.user.online")},{default:l(()=>[t(s),t(r,{modelValue:a.liveUpdate,"onUpdate:modelValue":n[0]||(n[0]=p=>a.liveUpdate=p),label:"نمایش زنده",color:"primary","hide-details":""},null,8,["modelValue"])]),_:1},8,["title"]),t(u,{class:"pa-0 ma-0"},{default:l(()=>[t(v,{loading:a.loading?"red":null,disabled:a.loading},{default:l(()=>[t(_,{class:"pa-0"},{default:l(()=>[t(m,null,{default:l(()=>[t(c,null,{default:l(()=>[t(d,{"table-class-name":"customize-table",alternating:"",headers:a.headers,items:a.items,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:a.loading},null,8,["headers","items","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["loading","disabled"])]),_:1})],64)}const M=h(w,[["render",U]]);export{M as default};
