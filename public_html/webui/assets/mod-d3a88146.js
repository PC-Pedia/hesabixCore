import{_ as h,L as v,a as r,S as o}from"./main-9b36f05f.js";import{A as g}from"./archiveUpload-31fb560b.js";import{a as l,o as m,s as k,e as a,b as c,w as y,d as n,c as x,A as L,u as i,ab as d}from"./vendor-adef9cb4.js";const _={name:"mod",components:{Loading:v,archiveUpload:g},data:()=>({isLoading:!1,data:{code:0,name:"",des:"",money:{name:"",label:""}}}),mounted(){this.loadData(this.$route.params.id)},methods:{loadData(s=""){s!=""?(this.isLoading=!0,r.post("/api/cashdesk/info/"+s).then(t=>{this.data=t.data,this.isLoading=!1})):(this.data.name="",this.data.des="",this.data.money.label=localStorage.getItem("activeMoneyLabel"))},save(){this.data.name.length===0?o.fire({text:"نام الزامی است.",icon:"error",confirmButtonText:"قبول"}):(this.isLoading=!0,r.post("/api/cashdesk/mod/"+this.data.code,this.data).then(s=>{this.isLoading=!1,s.data.result==2?o.fire({text:"قبلا ثبت شده است.",icon:"error",confirmButtonText:"قبول"}):o.fire({text:"مشخصات صندوق ثبت شد.",icon:"success",confirmButtonText:"قبول"}).then(()=>{this.$router.push("/acc/cashdesk/list")})}))}}},w={class:"block block-content-full"},$={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},B={class:"block-title text-primary-dark"},V={class:"block-options"},U={class:"block-content py-3 vl-parent"},T={class:"container"},C={class:"row"},N={class:"col-sm-12 col-md-6"},A={class:"form-floating mb-4"},D={class:"form-floating mb-4"},S={class:"form-floating mb-4"};function M(s,t,E,I,j,p){const f=l("router-link"),u=l("archive-upload"),b=l("loading");return m(),k("div",w,[a("div",$,[a("h3",B,[c(f,{class:"text-warning mx-2 px-2",to:"/acc/cashdesk/list"},{default:y(()=>t[5]||(t[5]=[a("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),_:1}),t[6]||(t[6]=n(" مشخصات صندوق "))]),a("div",V,[this.$route.params.id!=""?(m(),x(u,{key:0,docid:this.$route.params.id,doctype:"cashdesk",cat:"cashdesk"},null,8,["docid"])):L("",!0),a("button",{onClick:t[0]||(t[0]=e=>p.save()),type:"button",class:"btn btn-sm btn-alt-primary"},t[7]||(t[7]=[a("i",{class:"fa fa-save"},null,-1),n(" ثبت")]))])]),a("div",U,[c(b,{color:"blue",loader:"dots",active:s.isLoading,"onUpdate:active":t[1]||(t[1]=e=>s.isLoading=e),"is-full-page":!1},null,8,["active"]),a("div",T,[a("div",C,[a("div",N,[a("div",A,[i(a("input",{readonly:"readonly","onUpdate:modelValue":t[2]||(t[2]=e=>s.data.money.label=e),class:"form-control",type:"text"},null,512),[[d,s.data.money.label]]),t[8]||(t[8]=a("label",{class:"form-label"},"نوع ارز",-1))]),a("div",D,[i(a("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.data.name=e),class:"form-control",type:"text"},null,512),[[d,s.data.name]]),t[9]||(t[9]=a("label",{class:"form-label"},[a("span",{class:"text-danger"},"(لازم)"),n(" نام")],-1))]),a("div",S,[i(a("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.data.des=e),class:"form-control",type:"text"},null,512),[[d,s.data.des]]),t[10]||(t[10]=a("label",{class:"form-label"},"توضیحات",-1))])])])])])])}const G=h(_,[["render",M]]);export{G as default};
