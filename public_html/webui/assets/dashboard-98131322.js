import{_ as z,a as w,f as N}from"./main-9b36f05f.js";import{a as n,o as h,s as I,b as o,c as O,w as a,e as u,F as T,_ as H,u as v,B as g,C as J,t as l,d as i}from"./vendor-adef9cb4.js";const K={name:"saleChart",data(){return{options:{chart:{id:"vuechart-example",fontFamily:"'Vazirmatn FD', Arial, sans-serif"},xaxis:{categories:[]}},series:[{name:this.$t("drawer.sell"),data:[]}]}},mounted(){this.updateChart()},methods:{updateChart(){w.post("/api/sell/chart/data").then(t=>{this.options.xaxis.categories=t.data.dayNames.reverse(),this.series[0].data=t.data.daySells.reverse(),this.$refs.chart.refresh()})}}};function M(t,s,m,_,e,f){const C=n("apexchart");return h(),I("div",null,[o(C,{ref:"chart",height:"200rem",type:"bar",options:e.options,series:e.series},null,8,["options","series"])])}const Q=z(K,[["render",M]]);const R={name:"TopCommoditiesChart",components:{apexchart:N},props:{commodities:{type:Array,default:()=>[]}},data(){const t=this;return{showBarChart:!0,series:[],pieOptions:{chart:{id:"top-commodities-pie",fontFamily:"'Vazirmatn FD', Arial, sans-serif"},labels:[],colors:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF","#FF9F40","#C9CBCF","#7BC225","#FF5733","#C70039"],legend:{position:"top"},tooltip:{y:{formatter:function(s,{dataPointIndex:m}){var e;const _=((e=t.commodities[m])==null?void 0:e.unit)||"";return`${s} ${_}`}}},responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},barOptions:{chart:{id:"top-commodities-bar",fontFamily:"'Vazirmatn FD', Arial, sans-serif"},xaxis:{categories:[]},colors:["#36A2EB"],dataLabels:{enabled:!0,formatter:function(s,{dataPointIndex:m}){var e;const _=((e=t.commodities[m])==null?void 0:e.unit)||"";return`${s} ${_}`}},tooltip:{y:{formatter:function(s,{dataPointIndex:m}){var e;const _=((e=t.commodities[m])==null?void 0:e.unit)||"";return`${s} ${_}`}}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},responsive:[{breakpoint:480,options:{chart:{width:200}}}]}}},watch:{commodities:{immediate:!0,handler(t){this.updateCharts(t)}}},methods:{updateCharts(t){if(!t||!Array.isArray(t)||t.length===0){this.pieOptions.labels=[],this.barOptions.xaxis.categories=[],this.series=[];return}const s=t.filter(m=>{const _=m&&typeof m.name=="string"&&typeof m.count=="number";return _||console.warn("Invalid commodity item:",m),_});if(s.length===0){this.pieOptions.labels=[],this.barOptions.xaxis.categories=[],this.series=[];return}this.pieOptions.labels=s.map(m=>m.name),this.barOptions.xaxis.categories=s.map(m=>m.name),this.series=s.map(m=>m.count),this.showBarChart&&this.$refs.barChart?this.$refs.barChart.refresh():!this.showBarChart&&this.$refs.pieChart&&this.$refs.pieChart.refresh()}}};function X(t,s,m,_,e,f){const C=n("v-switch"),V=n("v-col"),D=n("v-row"),d=n("apexchart"),k=n("v-container");return h(),O(k,{fluid:""},{default:a(()=>[o(D,{dense:"",justify:"end"},{default:a(()=>[o(V,{cols:"auto"},{default:a(()=>[o(C,{modelValue:e.showBarChart,"onUpdate:modelValue":s[0]||(s[0]=U=>e.showBarChart=U),label:t.$t("dashboard.topCommodities.chartToggle"),color:"primary",size:"small",density:"compact","hide-details":""},null,8,["modelValue","label"])]),_:1})]),_:1}),o(D,{dense:""},{default:a(()=>[e.showBarChart?(h(),O(V,{key:0,cols:"12",sm:"12",md:"12"},{default:a(()=>[o(d,{ref:"barChart",type:"bar",height:"200rem",options:e.barOptions,series:[{name:t.$t("dashboard.topCommodities.salesCount"),data:e.series}]},null,8,["options","series"])]),_:1})):(h(),O(V,{key:1,cols:"12",sm:"12",md:"12"},{default:a(()=>[o(d,{ref:"pieChart",type:"pie",height:"200rem",options:e.pieOptions,series:e.series},null,8,["options","series"])]),_:1}))]),_:1})]),_:1})}const Y=z(R,[["render",X],["__scopeId","data-v-c677d77f"]]);const Z={name:"TopCostCentersChart",components:{apexchart:N},data(){return{period:"month",limit:10,isLoading:!1,series:[],chartOptions:{chart:{type:"pie",id:"top-commodities-pie",fontFamily:"'Vazirmatn FD', Arial, sans-serif"},labels:[],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},periodOptions:[{title:"امروز",value:"today"},{title:"این ماه",value:"month"},{title:"سال مالی",value:"year"}],limitOptions:[{title:"۵",value:5},{title:"۱۰",value:10},{title:"۲۰",value:20},{title:"همه",value:0}]}},computed:{hasData(){return this.series&&this.series.length>0}},methods:{async fetchData(){this.isLoading=!0;try{const t=await w.get("/api/cost/top-centers",{params:{period:this.period,limit:this.limit}});t.data.series&&t.data.series.length>0?(this.series=t.data.series,this.chartOptions={...this.chartOptions,labels:t.data.labels}):(this.series=[],this.chartOptions.labels=[])}catch(t){console.error("Error fetching top cost centers:",t),this.series=[],this.chartOptions.labels=[]}finally{this.isLoading=!1}}},mounted(){this.fetchData()}},$={key:0,class:"d-flex justify-center align-center empty-state"},ee={key:1,class:"d-flex justify-center align-center empty-state"};function te(t,s,m,_,e,f){const C=n("v-select"),V=n("v-col"),D=n("v-row"),d=n("v-progress-circular"),k=n("v-icon"),U=n("apexchart"),F=n("v-container");return h(),O(F,{fluid:"",class:"pt-0"},{default:a(()=>[o(D,{justify:"end"},{default:a(()=>[o(V,{cols:"12",sm:"6",md:"6"},{default:a(()=>[o(C,{modelValue:e.period,"onUpdate:modelValue":[s[0]||(s[0]=c=>e.period=c),f.fetchData],items:e.periodOptions,label:"بازه زمانی",density:"compact",variant:"outlined"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),o(V,{cols:"12",sm:"6",md:"6"},{default:a(()=>[o(C,{modelValue:e.limit,"onUpdate:modelValue":[s[1]||(s[1]=c=>e.limit=c),f.fetchData],items:e.limitOptions,label:"تعداد",density:"compact",variant:"outlined"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1})]),_:1}),e.isLoading?(h(),I("div",$,[o(d,{indeterminate:"",color:"primary"})])):f.hasData?(h(),O(U,{key:2,type:"pie",options:e.chartOptions,series:e.series},null,8,["options","series"])):(h(),I("div",ee,[o(k,{icon:"mdi-chart-pie",size:"large",color:"grey-lighten-1",class:"mb-2"}),s[2]||(s[2]=u("div",{class:"text-grey-darken-1"},"اطلاعاتی برای نمایش یافت نشد",-1))]))]),_:1})}const oe=z(Z,[["render",te],["__scopeId","data-v-1558e93b"]]);const se={name:"TopIncomeCentersChart",components:{apexchart:N},data(){return{period:"month",limit:10,isLoading:!1,series:[],chartOptions:{chart:{type:"pie",id:"top-income-centers-pie",fontFamily:"'Vazirmatn FD', Arial, sans-serif"},labels:[],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},periodOptions:[{title:"امروز",value:"today"},{title:"این ماه",value:"month"},{title:"سال مالی",value:"year"}],limitOptions:[{title:"۵",value:5},{title:"۱۰",value:10},{title:"۲۰",value:20},{title:"همه",value:0}]}},computed:{hasData(){return this.series&&this.series.length>0}},methods:{async fetchData(){this.isLoading=!0;try{const t=await w.get("/api/income/top-centers",{params:{period:this.period,limit:this.limit}});t.data.series&&t.data.series.length>0?(this.series=t.data.series,this.chartOptions={...this.chartOptions,labels:t.data.labels}):(this.series=[],this.chartOptions.labels=[])}catch(t){console.error("Error fetching top income centers:",t),this.series=[],this.chartOptions.labels=[]}finally{this.isLoading=!1}}},mounted(){this.fetchData()}},ae={key:0,class:"d-flex justify-center align-center empty-state"},le={key:1,class:"d-flex justify-center align-center empty-state"};function ie(t,s,m,_,e,f){const C=n("v-select"),V=n("v-col"),D=n("v-row"),d=n("v-progress-circular"),k=n("v-icon"),U=n("apexchart"),F=n("v-container");return h(),O(F,{fluid:"",class:"pt-0"},{default:a(()=>[o(D,{density:"compact",outlined:"",justify:"end"},{default:a(()=>[o(V,{cols:"12",sm:"6",md:"6"},{default:a(()=>[o(C,{modelValue:e.period,"onUpdate:modelValue":[s[0]||(s[0]=c=>e.period=c),f.fetchData],items:e.periodOptions,label:"بازه زمانی",density:"compact",variant:"outlined"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1}),o(V,{cols:"12",sm:"6",md:"6"},{default:a(()=>[o(C,{modelValue:e.limit,"onUpdate:modelValue":[s[1]||(s[1]=c=>e.limit=c),f.fetchData],items:e.limitOptions,label:"تعداد",density:"compact",variant:"outlined"},null,8,["modelValue","items","onUpdate:modelValue"])]),_:1})]),_:1}),e.isLoading?(h(),I("div",ae,[o(d,{indeterminate:"",color:"primary"})])):f.hasData?(h(),O(U,{key:2,type:"pie",options:e.chartOptions,series:e.series},null,8,["options","series"])):(h(),I("div",le,[o(k,{icon:"mdi-chart-pie",size:"large",color:"grey-lighten-1",class:"mb-2"}),s[2]||(s[2]=u("div",{class:"text-grey-darken-1"},"اطلاعاتی برای نمایش یافت نشد",-1))]))]),_:1})}const re=z(se,[["render",ie],["__scopeId","data-v-4e010a40"]]);const ne={name:"dashboard",components:{SaleChart:Q,TopCommoditiesChart:Y,TopCostCentersChart:oe,TopIncomeCentersChart:re},data(){const t=this;return{loading:!1,dialog:!1,stat:{},statements:[],permissions:{},plugins:[],wallet:{},costData:{today:0,week:0,month:0,year:0},incomeData:{today:0,week:0,month:0,year:0},dashboard:{banks:!1,wallet:!1,buys:!1,sells:!1,commodities:!1,acc_docs:!1,accounting_total:!1,persons:!1,notif:!1,sellChart:!1,topCommodities:!1,costs:!1,topCostCenters:!1,incomes:!1,topIncomeCenters:!1},topCommodities:[],topCommoditiesPeriod:"year",topCommoditiesLimit:5,periodOptions:[{title:t.$t("dashboard.period.today"),value:"today"},{title:t.$t("dashboard.period.week"),value:"week"},{title:t.$t("dashboard.period.month"),value:"month"},{title:t.$t("dashboard.period.year"),value:"year"}],limitOptions:[{title:"۳",value:3},{title:"۵",value:5},{title:"۷",value:7},{title:"۱۰",value:10}]}},methods:{async save(){this.loading=!0;try{await w.post("/api/dashboard/settings/save",this.dashboard),this.dialog=!1}catch(t){console.error("Save error:",t)}finally{this.loading=!1}},isPluginActive(t){return this.plugins[t]!==void 0},async fetchCostData(){this.loading=!0;try{const t=await w.get("/api/cost/dashboard/data");this.costData=t.data}catch(t){console.error("Fetch cost data error:",t),this.costData={today:0,week:0,month:0,year:0}}finally{this.loading=!1}},async fetchIncomeData(){this.loading=!0;try{const t=await w.get("/api/income/dashboard/data");this.incomeData=t.data}catch(t){console.error("Fetch income data error:",t),this.incomeData={today:0,week:0,month:0,year:0}}finally{this.loading=!1}},async loadData(){this.loading=!0;try{const[t,s,m,_,e,f]=await Promise.all([w.post("/api/business/get/user/permissions"),w.post("/api/dashboard/settings/load"),w.post("/api/plugin/get/actives"),w.post("/api/wallet/info"),w.post("/api/general/statements"),w.post("/api/business/stat")]);this.permissions=t.data,this.dashboard=s.data.data,this.plugins=m.data,this.wallet=_.data,this.statements=e.data,this.stat=f.data,this.dashboard.topCommodities&&await this.fetchTopCommodities(),this.dashboard.costs&&this.permissions.cost&&await this.fetchCostData(),this.dashboard.incomes&&this.permissions.income&&await this.fetchIncomeData()}catch(t){console.error("Load data error:",t)}finally{this.loading=!1}},async fetchTopCommodities(){this.loading=!0;try{const t=await w.post("/api/report/top-selling-commodities",{period:this.topCommoditiesPeriod,limit:this.topCommoditiesLimit});this.topCommodities=t.data}catch(t){console.error("Fetch top commodities error:",t),this.topCommodities=[]}finally{this.loading=!1}}},mounted(){this.loadData()}},de={class:"font-weight-bold"},me={key:1,class:"text-center"},ce={class:"my-0 py-1"},pe={class:"my-0 py-1"},ue={class:"my-0 py-1"},he={class:"my-0 py-1"},fe={class:"my-0 py-1"},_e={class:"my-0 py-1"},be={class:"my-0 py-1"},ye={class:"my-0 py-1"};function ve(t,s,m,_,e,f){const C=n("v-btn"),V=n("v-tooltip"),D=n("v-toolbar"),d=n("v-col"),k=n("v-row"),U=n("v-alert"),F=n("sale-chart"),c=n("v-card-text"),b=n("v-card"),B=n("v-select"),q=n("top-commodities-chart"),A=n("top-cost-centers-chart"),j=n("top-income-centers-chart"),p=n("v-icon"),P=n("v-container"),S=n("v-toolbar-title"),L=n("v-spacer"),y=n("v-switch"),E=n("v-card-actions"),x=n("v-dialog"),W=n("v-progress-circular"),G=n("v-overlay");return h(),I(T,null,[o(D,{color:"toolbar",title:t.$t("drawer.dashboard")},{default:a(()=>[o(V,{text:t.$t("dialog.edit_dashboard"),location:"bottom"},{activator:a(({props:r})=>[o(C,H(r,{icon:"mdi-layers-edit",color:"primary",onClick:s[0]||(s[0]=ge=>e.dialog=!0)}),null,16)]),_:1},8,["text"])]),_:1},8,["title"]),o(P,{fluid:"",class:"pa-4"},{default:a(()=>[v(o(k,null,{default:a(()=>[o(d,{cols:"12"},{default:a(()=>[o(U,{type:"info",color:"blue-grey",variant:"tonal",border:"",class:"animate__animated animate__fadeInDown"},{default:a(()=>[o(k,null,{default:a(()=>[(h(!0),I(T,null,J(e.statements,r=>(h(),O(d,{key:r.dateSubmit,cols:"12"},{default:a(()=>[u("span",de,l(r.dateSubmit)+": ",1),u("span",null,l(r.body),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},512),[[g,e.statements.length>0&&e.dashboard.notif]]),o(k,null,{default:a(()=>[v(o(d,{cols:"12",sm:"12",md:"12"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height_big",variant:"outlined","prepend-icon":"mdi-basket",title:t.$t("drawer.sell_chart"),hover:""},{default:a(()=>[o(c,{class:"pa-0"},{default:a(()=>[o(F)]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.sell&&e.dashboard.sellChart&&f.isPluginActive("accpro")]]),v(o(d,{cols:"12",sm:"12",md:"12"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height_big",variant:"outlined","prepend-icon":"mdi-chart-pie",title:t.$t("dashboard.topCommodities.title"),hover:""},{default:a(()=>[o(c,{class:"pa-2"},{default:a(()=>[o(k,null,{default:a(()=>[o(d,{cols:"6"},{default:a(()=>[o(B,{modelValue:e.topCommoditiesPeriod,"onUpdate:modelValue":[s[1]||(s[1]=r=>e.topCommoditiesPeriod=r),f.fetchTopCommodities],items:e.periodOptions,label:t.$t("dashboard.topCommodities.period"),density:"compact",outlined:""},null,8,["modelValue","items","label","onUpdate:modelValue"])]),_:1}),o(d,{cols:"6"},{default:a(()=>[o(B,{modelValue:e.topCommoditiesLimit,"onUpdate:modelValue":[s[2]||(s[2]=r=>e.topCommoditiesLimit=r),f.fetchTopCommodities],items:e.limitOptions,label:t.$t("dashboard.topCommodities.limit"),density:"compact",outlined:""},null,8,["modelValue","items","label","onUpdate:modelValue"])]),_:1})]),_:1}),e.topCommodities.length>0?(h(),O(q,{key:0,commodities:e.topCommodities},null,8,["commodities"])):(h(),I("p",me,l(t.$t("dashboard.topCommodities.noData")),1))]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.sell&&e.dashboard.topCommodities]]),v(o(d,{cols:"12",sm:"12",md:"6"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn",variant:"outlined","prepend-icon":"mdi-chart-pie",title:"مراکز هزینه",hover:""},{default:a(()=>[o(c,{class:"pa-2"},{default:a(()=>[o(A)]),_:1})]),_:1})]),_:1},512),[[g,e.permissions.cost&&e.dashboard.topCostCenters]]),v(o(d,{cols:"12",sm:"12",md:"6"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn",variant:"outlined","prepend-icon":"mdi-chart-pie",title:"مراکز درآمد",hover:""},{default:a(()=>[o(c,{class:"pa-2"},{default:a(()=>[o(j)]),_:1})]),_:1})]),_:1},512),[[g,e.permissions.income&&e.dashboard.topIncomeCenters]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"success-lighten-4",variant:"elevated","prepend-icon":"mdi-wallet",title:t.$t("static.wallet"),to:"/acc/wallet/view",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[o(p,{left:"",small:"",color:"success"},{default:a(()=>s[20]||(s[20]=[i("mdi-currency-usd")])),_:1}),i(" "+l(t.$t("static.deposit"))+": "+l(t.$filters.formatNumber(e.wallet.deposit)||"0")+" "+l(t.$t("currency.irr.short")),1)]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.wallet&&e.dashboard.wallet]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"indigo-lighten-4",variant:"elevated","prepend-icon":"mdi-account-multiple",title:t.$t("drawer.persons"),to:"/acc/persons/list",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[u("p",null,[o(p,{left:"",small:"",color:"indigo"},{default:a(()=>s[21]||(s[21]=[i("mdi-numeric")])),_:1}),i(l(t.$t("static.count"))+": "+l(t.$filters.formatNumber(e.stat.personCount)||"0"),1)]),u("p",null,[o(p,{left:"",small:"",color:"indigo"},{default:a(()=>s[22]||(s[22]=[i("mdi-arrow-down")])),_:1}),i(l(t.$t("drawer.recs_today"))+": "+l(t.$filters.formatNumber(e.stat.recs_today,!0)||"0"),1)]),u("p",null,[o(p,{left:"",small:"",color:"indigo"},{default:a(()=>s[23]||(s[23]=[i("mdi-arrow-up")])),_:1}),i(l(t.$t("drawer.sends_today"))+": "+l(t.$filters.formatNumber(e.stat.sends_today,!0)||"0"),1)])]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.persons&&e.dashboard.persons]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"red-lighten-4",variant:"elevated","prepend-icon":"mdi-cash-minus",title:t.$t("dashboard.costs.title"),hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[u("p",ce,[o(p,{left:"",small:"",color:"red"},{default:a(()=>s[24]||(s[24]=[i("mdi-calendar-today")])),_:1}),i(l(t.$t("dashboard.costs.today"))+": "+l(t.$filters.formatNumber(e.costData.today)||"0"),1)]),u("p",pe,[o(p,{left:"",small:"",color:"red"},{default:a(()=>s[25]||(s[25]=[i("mdi-calendar-week")])),_:1}),i(l(t.$t("dashboard.costs.week"))+": "+l(t.$filters.formatNumber(e.costData.week)||"0"),1)]),u("p",ue,[o(p,{left:"",small:"",color:"red"},{default:a(()=>s[26]||(s[26]=[i("mdi-calendar-month")])),_:1}),i(l(t.$t("dashboard.costs.month"))+": "+l(t.$filters.formatNumber(e.costData.month)||"0"),1)]),u("p",he,[o(p,{left:"",small:"",color:"red"},{default:a(()=>s[27]||(s[27]=[i("mdi-calendar-range")])),_:1}),i(l(t.$t("dashboard.costs.year"))+": "+l(t.$filters.formatNumber(e.costData.year)||"0"),1)])]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.cost&&e.dashboard.costs]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"green-lighten-4",variant:"elevated","prepend-icon":"mdi-cash-plus",title:t.$t("dashboard.incomes.title"),hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[u("p",fe,[o(p,{left:"",small:"",color:"green"},{default:a(()=>s[28]||(s[28]=[i("mdi-calendar-today")])),_:1}),i(l(t.$t("dashboard.incomes.today"))+": "+l(t.$filters.formatNumber(e.incomeData.today)||"0"),1)]),u("p",_e,[o(p,{left:"",small:"",color:"green"},{default:a(()=>s[29]||(s[29]=[i("mdi-calendar-week")])),_:1}),i(l(t.$t("dashboard.incomes.week"))+": "+l(t.$filters.formatNumber(e.incomeData.week)||"0"),1)]),u("p",be,[o(p,{left:"",small:"",color:"green"},{default:a(()=>s[30]||(s[30]=[i("mdi-calendar-month")])),_:1}),i(l(t.$t("dashboard.incomes.month"))+": "+l(t.$filters.formatNumber(e.incomeData.month)||"0"),1)]),u("p",ye,[o(p,{left:"",small:"",color:"green"},{default:a(()=>s[31]||(s[31]=[i("mdi-calendar-range")])),_:1}),i(l(t.$t("dashboard.incomes.year"))+": "+l(t.$filters.formatNumber(e.incomeData.year)||"0"),1)])]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.income&&e.dashboard.incomes]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"green-lighten-4",variant:"elevated","prepend-icon":"mdi-basket-unfill",title:t.$t("drawer.sell"),to:"/acc/sell/list",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[u("p",null,[o(p,{left:"",small:"",color:"green"},{default:a(()=>s[32]||(s[32]=[i("mdi-sigma")])),_:1}),i(l(t.$t("drawer.total"))+": "+l(t.$filters.formatNumber(e.stat.sells_total,!0)||"0"),1)]),u("p",null,[o(p,{left:"",small:"",color:"green"},{default:a(()=>s[33]||(s[33]=[i("mdi-calendar-today")])),_:1}),i(l(t.$t("drawer.today"))+": "+l(t.$filters.formatNumber(e.stat.sells_today,!0)||"0"),1)])]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.sell&&e.dashboard.sells]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"red-lighten-4",variant:"elevated","prepend-icon":"mdi-basket-fill",title:t.$t("drawer.buy"),to:"/acc/buy/list",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[u("p",null,[o(p,{left:"",small:"",color:"red"},{default:a(()=>s[34]||(s[34]=[i("mdi-sigma")])),_:1}),i(l(t.$t("drawer.total"))+": "+l(t.$filters.formatNumber(e.stat.buys_total,!0)||"0"),1)]),u("p",null,[o(p,{left:"",small:"",color:"red"},{default:a(()=>s[35]||(s[35]=[i("mdi-calendar-today")])),_:1}),i(l(t.$t("drawer.today"))+": "+l(t.$filters.formatNumber(e.stat.buys_today,!0)||"0"),1)])]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.buy&&e.dashboard.buys]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"orange-lighten-4",variant:"elevated","prepend-icon":"mdi-table-refresh",title:t.$t("drawer.roller"),hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[o(p,{left:"",small:"",color:"orange"},{default:a(()=>s[36]||(s[36]=[i("mdi-currency-usd")])),_:1}),i(" "+l(t.$filters.formatNumber(e.stat.income,!0)||"0"),1)]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.accounting&&e.dashboard.accounting_total]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"blue-lighten-4",variant:"elevated","prepend-icon":"mdi-bank",title:t.$t("drawer.banks"),to:"/acc/banks/list",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[o(p,{left:"",small:"",color:"blue"},{default:a(()=>s[37]||(s[37]=[i("mdi-numeric")])),_:1}),i(" "+l(t.$t("static.count"))+": "+l(t.$filters.formatNumber(e.stat.bankCount)||"0"),1)]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.bank&&e.dashboard.banks]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"purple-lighten-4",variant:"elevated","prepend-icon":"mdi-book-open-page-variant",title:t.$t("drawer.docs"),to:"/acc/accounting/list",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[o(p,{left:"",small:"",color:"purple"},{default:a(()=>s[38]||(s[38]=[i("mdi-numeric")])),_:1}),i(" "+l(t.$t("static.count"))+": "+l(t.$filters.formatNumber(e.stat.docCount)||"0"),1)]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.accounting&&e.dashboard.acc_docs]]),v(o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(b,{class:"animate__animated animate__zoomIn card-equal-height",color:"teal-lighten-4",variant:"elevated","prepend-icon":"mdi-package-variant",title:t.$t("drawer.commodity"),to:"/acc/commodity/list",hover:""},{default:a(()=>[o(c,{class:"text-dark"},{default:a(()=>[o(p,{left:"",small:"",color:"teal"},{default:a(()=>s[39]||(s[39]=[i("mdi-numeric")])),_:1}),i(" "+l(t.$t("static.count"))+": "+l(t.$filters.formatNumber(e.stat.commodity)||"0"),1)]),_:1})]),_:1},8,["title"])]),_:1},512),[[g,e.permissions.commodity&&e.dashboard.commodities]])]),_:1})]),_:1}),o(x,{modelValue:e.dialog,"onUpdate:modelValue":s[19]||(s[19]=r=>e.dialog=r)},{default:a(()=>[o(b,{color:"grey-lighten-4"},{default:a(()=>[o(D,{color:"primary-dark",flat:""},{default:a(()=>[o(p,{left:"",class:"ms-2",color:"white"},{default:a(()=>s[40]||(s[40]=[i("mdi-layers-edit")])),_:1}),o(S,{class:"text-white text-subtitle-1"},{default:a(()=>[i(l(t.$t("dialog.edit_dashboard")),1)]),_:1}),o(L),o(C,{icon:"",onClick:s[3]||(s[3]=r=>e.dialog=!1)},{default:a(()=>[o(p,{color:"white"},{default:a(()=>s[41]||(s[41]=[i("mdi-close")])),_:1})]),_:1})]),_:1}),o(c,{class:"pa-2"},{default:a(()=>[o(k,null,{default:a(()=>[o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(y,{density:"compact",color:"primary",label:t.$t("static.wallet"),modelValue:e.dashboard.wallet,"onUpdate:modelValue":s[4]||(s[4]=r=>e.dashboard.wallet=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.banks"),modelValue:e.dashboard.banks,"onUpdate:modelValue":s[5]||(s[5]=r=>e.dashboard.banks=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.acc_docs"),modelValue:e.dashboard.acc_docs,"onUpdate:modelValue":s[6]||(s[6]=r=>e.dashboard.acc_docs=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:"نمودار کالاهای پرفروش",modelValue:e.dashboard.topCommodities,"onUpdate:modelValue":s[7]||(s[7]=r=>e.dashboard.topCommodities=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["modelValue"]),o(y,{color:"primary",label:t.$t("dashboard.incomes.title"),modelValue:e.dashboard.incomes,"onUpdate:modelValue":s[8]||(s[8]=r=>e.dashboard.incomes=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("dashboard.incomes.centers"),modelValue:e.dashboard.topIncomeCenters,"onUpdate:modelValue":s[9]||(s[9]=r=>e.dashboard.topIncomeCenters=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"])]),_:1}),o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(y,{color:"primary",label:t.$t("drawer.persons"),modelValue:e.dashboard.persons,"onUpdate:modelValue":s[10]||(s[10]=r=>e.dashboard.persons=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.buys"),modelValue:e.dashboard.buys,"onUpdate:modelValue":s[11]||(s[11]=r=>e.dashboard.buys=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.sells"),modelValue:e.dashboard.sells,"onUpdate:modelValue":s[12]||(s[12]=r=>e.dashboard.sells=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.sell_chart"),modelValue:e.dashboard.sellChart,"onUpdate:modelValue":s[13]||(s[13]=r=>e.dashboard.sellChart=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"])]),_:1}),o(d,{cols:"12",sm:"6",md:"4"},{default:a(()=>[o(y,{color:"primary",label:t.$t("dialog.commodities"),modelValue:e.dashboard.commodities,"onUpdate:modelValue":s[14]||(s[14]=r=>e.dashboard.commodities=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("dashboard.costs.title"),modelValue:e.dashboard.costs,"onUpdate:modelValue":s[15]||(s[15]=r=>e.dashboard.costs=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("dashboard.costs.centers"),modelValue:e.dashboard.topCostCenters,"onUpdate:modelValue":s[16]||(s[16]=r=>e.dashboard.topCostCenters=r),density:"compact","hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.accounting_total"),modelValue:e.dashboard.accounting_total,"onUpdate:modelValue":s[17]||(s[17]=r=>e.dashboard.accounting_total=r),"hide-details":"",inset:"",class:"text-caption"},null,8,["label","modelValue"]),o(y,{color:"primary",label:t.$t("drawer.notif"),modelValue:e.dashboard.notif,"onUpdate:modelValue":s[18]||(s[18]=r=>e.dashboard.notif=r),hint:t.$t("dialog.notif_msg"),"persistent-hint":"",inset:"",class:"text-caption"},null,8,["label","modelValue","hint"])]),_:1})]),_:1})]),_:1}),o(E,{class:"pa-2"},{default:a(()=>[o(L),o(C,{"prepend-icon":"mdi-content-save",color:"primary",variant:"outlined",text:t.$t("dialog.save"),onClick:f.save,loading:e.loading},null,8,["text","onClick","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(G,{value:e.loading,contained:"",class:"align-center justify-center"},{default:a(()=>[o(W,{indeterminate:"",size:"64",color:"primary"})]),_:1},8,["value"])],64)}const Ve=z(ne,[["render",ve],["__scopeId","data-v-4f4097c0"]]);export{Ve as default};
