import{L as b,a as i,S as f,_ as A}from"./main-9b36f05f.js";import{h as V,a as g,o as k,s as y,e,d as n,b as l,w as h,u as a,au as F,ar as P,ab as m,t,_ as d}from"./vendor-adef9cb4.js";const D=V({name:"mod",components:{Loading:b},data:()=>({isLoading:!1,currencyConfig:{masked:!1,prefix:"",suffix:"ریال",thousands:",",decimal:".",precision:0,disableNegative:!1,disabled:!1,min:0,max:null,allowBlank:!1,minimumNumberOfCharacters:0,shouldRound:!0,focusOnRight:!0},totalNoghre:0,persons:[],ghalams:[],hakaks:[],morsas:[],tarashs:[],year:"",order:{customer:null,date:"",dateDeliver:"",status:"در حال بررسی",place:"کارگاه مرکزی",des:"",sizeOfRing:"",modelOforder:"",tarash:null,ghalam:null,hakak:null,morsa:null,tarashPrice:0,morsaPrice:0,hakakPrice:0,ghalamPrice:0,negin:"",neginPrice:0,etcPrice:0,noghreAmount:0,feeNoghre:0,modelPrice:0}}),created(){this.loadData(this.$route.params.id)},methods:{loadData(){this.isLoading=!0,i.post("/api/person/list/limit").then(s=>{this.persons=s.data,this.isLoading=!1}),i.post("/api/plugin/noghre/ghalam/list").then(s=>{this.ghalams=s.data,this.isLoading=!1}),i.post("/api/plugin/noghre/morsa/list").then(s=>{this.morsas=s.data,this.isLoading=!1}),i.post("/api/plugin/noghre/hakak/list").then(s=>{this.hakaks=s.data,this.isLoading=!1}),i.post("/api/plugin/noghre/tarash/list").then(s=>{this.tarashs=s.data,this.isLoading=!1}),this.isLoading=!1,i.post("/api/year/get").then(s=>{this.year=s.data,this.order.date=s.data.now})},save(){this.order.customer==null||this.order.hakak==null||this.order.tarash==null||this.order.morsa==null||this.order.ghalam==null||this.order.dateDeliver==null||this.order.date==null?f.fire({text:"لطفا تمام موارد ستاره دار را تکمیل نمایید.",icon:"warning",confirmButtonText:"قبول"}):i.post("/api/plugin/noghre/submit/order/"+this.$route.params.id,{customer:this.order.customer,dateDeliver:this.order.dateDeliver,dateSubmit:this.order.date,status:this.order.status,place:this.order.place,model:this.order.modelOforder,size:this.order.sizeOfRing,negin:this.order.negin,neginFee:this.order.neginPrice,tarash:this.order.tarash,hakak:this.order.hakak,morsa:this.order.morsa,ghalam:this.order.ghalam,tarashPrice:this.order.tarashPrice,hakakPrice:this.order.hakakPrice,morsaPrice:this.order.morsaPrice,ghalamPrice:this.order.ghalamPrice,etcPrice:this.order.etcPrice,modelPrice:this.order.modelPrice,des:this.order.des,noghreAmount:this.order.noghreAmount,noghreFee:this.order.noghreFee,id:this.$route.params.id}).then(s=>{f.fire({text:"سفارش ثبت شد.",icon:"success",confirmButtonText:"قبول"}).then(()=>{this.$router.push("/acc/plugin/noghre/order/list")})})},calc(){this.totalNoghre=this.order.noghreAmount*this.order.noghreFee}}});const U={class:"block block-content-full"},$={id:"fixed-header",class:"block-header block-header-default bg-gray-light"},N={class:"block-title text-primary-dark"},M={class:"block-content pb-3"},w={class:"container-fluid"},q={class:"row"},Y={class:"col-sm-12 col-md-4"},j={class:"mb-2"},L={class:"col-sm-12 col-md-4 mb-2"},O={class:"col-sm-12 col-md-4 mb-2"},B={class:"col-sm-12 col-md-3 mb-2"},R={class:"col-sm-12 col-md-3 mb-2"},S={class:"col-sm-12 col-md-3 mb-2"},z={class:"col-sm-12 col-md-3 mb-2"},E={class:"col-sm-12 col-md-12 mb-2 border rounded-2"},T={class:"row my-2"},I={class:"col-sm-12 col-md-4"},G={class:""},H={class:"col-sm-12 col-md-4"},J={class:""},K={class:"col-sm-12 col-md-4"},Q={class:""},W={class:"col-sm-12 col-md-6 mb-2 border rounded-2"},X={class:"row my-2"},Z={class:"col-sm-12 col-md-6"},_={class:""},x={class:"col-sm-12 col-md-6"},oo={class:"required"},eo={class:""},so={class:"col-sm-12 col-md-6 mb-2 border rounded-2"},uo={class:"row my-2"},lo={class:"col-sm-12 col-md-6"},ro={class:"mb-2"},to={class:"col-sm-12 col-md-6"},io={class:"required"},ao={class:""},no={class:"col-sm-12 col-md-6 mb-2 border rounded-2"},mo={class:"row my-2"},co={class:"col-sm-12 col-md-6"},ho={class:"mb-2"},po={class:"col-sm-12 col-md-6"},Co={class:"required"},go={class:""},vo={class:"col-sm-12 col-md-6 mb-2 border rounded-2"},fo={class:"row my-2"},bo={class:"col-sm-12 col-md-6"},Ao={class:"mb-2"},Vo={class:"col-sm-12 col-md-6"},ko={class:"required"},yo={class:""},Fo={class:"col-sm-12 col-md-6 mb-2 border rounded-2"},Po={class:"row my-2"},Do={class:"col-sm-12 col-md-6"},Uo={class:"mb-2"},$o={class:"col-sm-12 col-md-6"},No={class:"required"},Mo={class:""},wo={class:"col-sm-12 col-md-6 mb-2 border rounded-2"},qo={class:"row my-2"},Yo={class:"col-sm-12 col-md-6"},jo={class:"required"},Lo={class:""},Oo={class:"col-sm-12 col-md-6"},Bo={class:""},Ro={class:"col-sm-12 col-md-12 mb-2"};function So(s,o,zo,Eo,To,Io){const c=g("v-cob"),v=g("date-picker"),r=g("money3");return k(),y("div",U,[e("div",$,[e("h3",N,[e("button",{onClick:o[0]||(o[0]=u=>s.$router.back()),type:"button",class:"float-start d-none d-sm-none d-md-block btn btn-sm btn-link text-warning"},o[27]||(o[27]=[e("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),o[28]||(o[28]=e("i",{class:"fa fa-basket-shopping"},null,-1)),o[29]||(o[29]=n(" سفارش "))]),o[30]||(o[30]=e("div",{class:"block-options"},null,-1))]),e("div",M,[e("div",w,[e("div",q,[e("div",Y,[o[32]||(o[32]=e("label",{class:"form-label required"},"مشتری",-1)),e("div",j,[l(c,{dir:"rtl",options:this.persons,label:"nikename",modelValue:this.order.customer,"onUpdate:modelValue":o[1]||(o[1]=u=>this.order.customer=u)},{"no-options":h(({search:u,searching:p,loading:C})=>o[31]||(o[31]=[n(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])])]),e("div",L,[o[33]||(o[33]=e("label",{class:"required"},"تاریخ سفارش",-1)),l(v,{class:"",modelValue:s.order.date,"onUpdate:modelValue":o[2]||(o[2]=u=>s.order.date=u),format:"jYYYY/jMM/jDD","display-format":"jYYYY/jMM/jDD",min:s.year.start,max:s.year.end},null,8,["modelValue","min","max"])]),e("div",O,[o[34]||(o[34]=e("label",{class:"required"},"تاریخ تحویل",-1)),l(v,{class:"",modelValue:s.order.dateDeliver,"onUpdate:modelValue":o[3]||(o[3]=u=>s.order.dateDeliver=u),format:"jYYYY/jMM/jDD","display-format":"jYYYY/jMM/jDD",min:s.year.start,max:s.year.end},null,8,["modelValue","min","max"])]),e("div",B,[o[36]||(o[36]=e("label",null,"وضعیت سفارش",-1)),a(e("select",{"onUpdate:modelValue":o[4]||(o[4]=u=>s.order.status=u),class:"form-select"},o[35]||(o[35]=[P('<option value="در حال بررسی" selected data-v-6684cc79>در حال بررسی</option><option value="در دست حکاک" data-v-6684cc79>در دست حکاک</option><option value="در دست قلم زن" data-v-6684cc79>در دست قلم زن</option><option value="در دست تراشکار" data-v-6684cc79>در دست تراشکار</option><option value="در دست مرصع کار" data-v-6684cc79>در دست مرصع کار</option><option value="تحویل داده شده" data-v-6684cc79>تحویل داده شده</option>',6)]),512),[[F,s.order.status]])]),e("div",R,[o[37]||(o[37]=e("label",{class:"required"},"محل ساخت",-1)),a(e("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=u=>s.order.place=u),class:"form-control"},null,512),[[m,s.order.place]])]),e("div",S,[o[38]||(o[38]=e("label",{class:"required"},"مدل سفارش",-1)),a(e("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=u=>s.order.modelOforder=u),class:"form-control"},null,512),[[m,s.order.modelOforder]])]),e("div",z,[o[39]||(o[39]=e("label",{class:"required"},"سایز",-1)),a(e("input",{type:"text","onUpdate:modelValue":o[7]||(o[7]=u=>s.order.sizeOfRing=u),class:"form-control"},null,512),[[m,s.order.sizeOfRing]])]),e("div",E,[e("div",T,[e("div",I,[o[40]||(o[40]=e("label",null,"نقره مصرفی",-1)),e("div",G,[a(e("input",{onChange:o[8]||(o[8]=u=>s.calc()),"onUpdate:modelValue":o[9]||(o[9]=u=>s.order.noghreAmount=u),class:"form-control",type:"number",min:"0.1"},null,544),[[m,s.order.noghreAmount]])])]),e("div",H,[e("label",null,"فی هر گرم نقره ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",J,[l(r,d({onChange:o[10]||(o[10]=u=>s.calc()),class:"form-control",modelValue:s.order.noghreFee,"onUpdate:modelValue":o[11]||(o[11]=u=>s.order.noghreFee=u)},s.currencyConfig),null,16,["modelValue"])])]),e("div",K,[e("label",null,"مبلغ کل نقره مصرفی ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",Q,[l(r,d({readonly:"readonly",class:"form-control",modelValue:s.totalNoghre,"onUpdate:modelValue":o[12]||(o[12]=u=>s.totalNoghre=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",W,[e("div",X,[e("div",Z,[o[41]||(o[41]=e("label",{class:"required"},"نوع نگین",-1)),e("div",_,[a(e("input",{"onUpdate:modelValue":o[13]||(o[13]=u=>s.order.noghre=u),class:"form-control",type:"text",min:"0.1"},null,512),[[m,s.order.noghre]])])]),e("div",x,[e("label",oo,"هزینه نگین ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",eo,[l(r,d({class:"form-control",modelValue:s.order.neginPrice,"onUpdate:modelValue":o[14]||(o[14]=u=>s.order.neginPrice=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",so,[e("div",uo,[e("div",lo,[o[43]||(o[43]=e("label",{class:"required"},"تراشکار",-1)),e("div",ro,[l(c,{dir:"rtl",options:this.tarashs,label:"nikename",modelValue:this.order.tarash,"onUpdate:modelValue":o[15]||(o[15]=u=>this.order.tarash=u)},{"no-options":h(({search:u,searching:p,loading:C})=>o[42]||(o[42]=[n(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])])]),e("div",to,[e("label",io,"هزینه تراشکار ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",ao,[l(r,d({class:"form-control",modelValue:s.order.tarashPrice,"onUpdate:modelValue":o[16]||(o[16]=u=>s.order.tarashPrice=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",no,[e("div",mo,[e("div",co,[o[45]||(o[45]=e("label",{class:"required"},"حکاک",-1)),e("div",ho,[l(c,{dir:"rtl",options:this.hakaks,label:"nikename",modelValue:this.order.hakak,"onUpdate:modelValue":o[17]||(o[17]=u=>this.order.hakak=u)},{"no-options":h(({search:u,searching:p,loading:C})=>o[44]||(o[44]=[n(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])])]),e("div",po,[e("label",Co,"هزینه حکاکی ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",go,[l(r,d({class:"form-control",modelValue:s.order.hakakPrice,"onUpdate:modelValue":o[18]||(o[18]=u=>s.order.hakakPrice=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",vo,[e("div",fo,[e("div",bo,[o[47]||(o[47]=e("label",{class:"required"},"قلم زن",-1)),e("div",Ao,[l(c,{dir:"rtl",options:this.ghalams,label:"nikename",modelValue:this.order.ghalam,"onUpdate:modelValue":o[19]||(o[19]=u=>this.order.ghalam=u)},{"no-options":h(({search:u,searching:p,loading:C})=>o[46]||(o[46]=[n(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])])]),e("div",Vo,[e("label",ko,"هزینه قلم زن ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",yo,[l(r,d({class:"form-control",modelValue:s.order.ghalamPrice,"onUpdate:modelValue":o[20]||(o[20]=u=>s.order.ghalamPrice=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",Fo,[e("div",Po,[e("div",Do,[o[49]||(o[49]=e("label",{class:"required"},"مرصع کار",-1)),e("div",Uo,[l(c,{dir:"rtl",options:this.morsas,label:"nikename",modelValue:this.order.morsa,"onUpdate:modelValue":o[21]||(o[21]=u=>this.order.morsa=u)},{"no-options":h(({search:u,searching:p,loading:C})=>o[48]||(o[48]=[n(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])])]),e("div",$o,[e("label",No,"هزینه مرصع کار ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",Mo,[l(r,d({class:"form-control",modelValue:s.order.morsaPrice,"onUpdate:modelValue":o[22]||(o[22]=u=>s.order.morsaPrice=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",wo,[e("div",qo,[e("div",Yo,[e("label",jo,"هزینه اجرای مدل ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",Lo,[l(r,d({class:"form-control",modelValue:s.order.modelPrice,"onUpdate:modelValue":o[23]||(o[23]=u=>s.order.modelPrice=u)},s.currencyConfig),null,16,["modelValue"])])]),e("div",Oo,[e("label",null,"سایر هزینه‌ها ("+t(s.$filters.getActiveMoney().shortName)+")",1),e("div",Bo,[l(r,d({class:"form-control",modelValue:s.order.etcPrice,"onUpdate:modelValue":o[24]||(o[24]=u=>s.order.etcPrice=u)},s.currencyConfig),null,16,["modelValue"])])])])]),e("div",Ro,[o[50]||(o[50]=e("label",null,"توضیحات سفارش",-1)),a(e("textarea",{"onUpdate:modelValue":o[25]||(o[25]=u=>s.order.des=u),class:"form-select"},null,512),[[m,s.order.des]])])]),e("button",{onClick:o[26]||(o[26]=u=>s.save()),type:"button",class:"btn btn-alt-primary"},"ثبت")])])])}const Jo=A(D,[["render",So],["__scopeId","data-v-6684cc79"]]);export{Jo as default};
