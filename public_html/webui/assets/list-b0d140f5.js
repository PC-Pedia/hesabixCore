import{_ as g,a as h,S as u}from"./main-9b36f05f.js";import{r as v,a as k,o as p,s as m,e,d as l,b as i,w as o,u as y,ab as _,t as f}from"./vendor-adef9cb4.js";const B={name:"list",data:()=>({searchValue:"",loading:v(!0),items:[],headers:[{text:"عملیات",value:"operation",width:"130"},{text:"کد",value:"code",width:"100px"},{text:"نام صندوق",value:"name",width:"120px"},{text:"موجودی()",value:"balance",width:"140px"},{text:"توضیحات",value:"des",width:"150px"}]}),methods:{loadData(){h.post("/api/cashdesk/list").then(s=>{this.items=s.data,this.loading=!1})},deleteItem(s){u.fire({text:"آیا برای حذف صندوق مطمئن هستید؟",showCancelButton:!0,confirmButtonText:"بله",cancelButtonText:"خیر"}).then(t=>{t.isConfirmed&&h.post("/api/cashdesk/delete/"+s).then(r=>{if(r.data.result==1){let c=0;for(let n=0;n<this.items.length;n++)c++,this.items[n].code==s&&this.items.splice(c-1,1);u.fire({text:"صندوق با موفقیت حذف شد.",icon:"success",confirmButtonText:"قبول"})}else r.data.result==2&&u.fire({text:"صندوق به دلیل داشتن تراکنش و اسناد حسابداری مرتبط قابل حذف نیست.",icon:"error",confirmButtonText:"قبول"})})})}},beforeMount(){this.loadData()}},T={class:"block block-content-full"},V={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},$={class:"block-title text-primary-dark"},C={class:"block-options"},D={class:"block-content pt-1 pb-3"},M={class:"row"},N={class:"col-sm-12 col-md-12 m-0 p-0"},S={class:"mb-1"},E={class:"input-group input-group-sm"},P={"aria-labelledby":"dropdown-align-center-outline-primary",class:"dropdown-menu dropdown-menu-end",style:{}},z=["onClick"],I={key:0,class:"text-success"},O={key:1,class:"text-danger"};function U(s,t,r,c,n,x){const d=k("router-link"),w=k("EasyDataTable");return p(),m("div",T,[e("div",V,[e("h3",$,[e("button",{onClick:t[0]||(t[0]=a=>s.$router.back()),type:"button",class:"float-start d-none d-sm-none d-md-block btn btn-sm btn-link text-warning"},t[2]||(t[2]=[e("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),t[3]||(t[3]=e("i",{class:"fa fa-bank px-2"},null,-1)),t[4]||(t[4]=l(" صندوق ها "))]),e("div",C,[i(d,{to:"/acc/cashdesk/mod/",class:"block-options-item"},{default:o(()=>t[5]||(t[5]=[e("span",{class:"fa fa-plus fw-bolder"},null,-1)])),_:1})])]),e("div",D,[e("div",M,[e("div",N,[e("div",S,[e("div",E,[t[6]||(t[6]=e("span",{class:"input-group-text"},[e("i",{class:"fa fa-search"})],-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>s.searchValue=a),class:"form-control",type:"text",placeholder:"جست و جو ..."},null,512),[[_,s.searchValue]])])]),i(w,{"table-class-name":"customize-table","show-index":"",alternating:"","search-value":s.searchValue,headers:s.headers,items:s.items,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:s.loading},{"item-operation":o(({code:a})=>[t[10]||(t[10]=e("button",{"aria-expanded":"false","aria-haspopup":"true",class:"btn btn-sm btn-link","data-bs-toggle":"dropdown",id:"dropdown-align-center-alt-primary",type:"button"},[e("i",{class:"fa-solid fa-ellipsis"})],-1)),e("div",P,[i(d,{class:"dropdown-item",to:"/acc/cashdesk/card/view/"+a},{default:o(()=>t[7]||(t[7]=[e("i",{class:"fa fa-eye text-success pe-2"},null,-1),l(" مشاهده ")])),_:2},1032,["to"]),i(d,{class:"dropdown-item",to:"/acc/cashdesk/mod/"+a},{default:o(()=>t[8]||(t[8]=[e("i",{class:"fa fa-edit pe-2"},null,-1),l(" ویرایش ")])),_:2},1032,["to"]),e("button",{type:"button",onClick:b=>x.deleteItem(a),class:"dropdown-item text-danger"},t[9]||(t[9]=[e("i",{class:"fa fa-trash pe-2"},null,-1),l(" حذف ")]),8,z)])]),"item-name":o(({name:a,code:b})=>[i(d,{to:"/acc/cashdesk/card/view/"+b},{default:o(()=>[l(f(a),1)]),_:2},1032,["to"])]),"item-balance":o(({balance:a})=>[a>=0?(p(),m("label",I,f(s.$filters.formatNumber(a)),1)):(p(),m("label",O,f(s.$filters.formatNumber(-1*a))+" منفی",1))]),_:1},8,["search-value","headers","items","loading"])])])])])}const A=g(B,[["render",U]]);export{A as default};
