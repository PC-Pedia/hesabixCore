import{a as v,S as C,_ as A}from"./main-9b36f05f.js";import{h as w,r as b,a as s,o as u,s as d,b as o,w as a,A as $,F,d as _,aa as B,e as h,t as r}from"./vendor-adef9cb4.js";const E=w({name:"active_account",data(){return{dialog:!1,dialogSuccess:!1,loading:!1,disableSend:!0,code:"",user:{mobile:"",email:""},response:{code:"",message:"",Success:!1,data:{id:""}}}},watch:{code(e,t){Object.keys(e).length==6?this.disableSend=b(!1):this.disableSend=b(!0)}},methods:{onResendCodeClick(){v.post("/api/user/register/resend-active-code",{mobile:this.$route.params.id}).then(e=>{e.data.Success==!0?C.fire({text:this.$t("user.resendCode"),confirmButtonText:this.$t("dialog.ok"),icon:"success"}):C.fire({text:e.data.message,confirmButtonText:this.$t("dialog.ok"),icon:"error"})})},submit(){this.loading=!0,v.post("/api/user/active/account",{mobile:this.$route.params.id,code:this.code}).then(e=>{e.data.Success==!1?(this.response=e.data,this.dialog=!0):(this.response=e.data,this.dialogSuccess=!0),this.loading=!1})}}}),N={key:0,class:"text-center"},T={key:1,class:"text-center"};function U(e,t,j,L,R,z){const c=s("v-card-text"),k=s("v-otp-input"),S=s("v-icon"),n=s("v-btn"),m=s("v-col"),p=s("v-row"),V=s("v-form"),i=s("v-card"),y=s("v-container"),f=s("v-spacer"),g=s("v-dialog");return u(),d(F,null,[o(y,null,{default:a(()=>[o(p,{class:"d-flex justify-center"},{default:a(()=>[o(m,{md:"5"},{default:a(()=>[o(i,{loading:e.loading?"blue":null,disabled:e.loading,title:e.$t("app.name"),subtitle:e.$t("user.active_account")},{default:a(()=>[o(c,null,{default:a(()=>t[7]||(t[7]=[_(" کد ارسالی از طریق پیامک و یا پست الکترونیکی دریافتی خود را در کادر زیر وارد نمایید. ")])),_:1}),o(V,{ref:"form",disabled:e.loading,"fast-fail":"",onSubmit:t[2]||(t[2]=B(l=>e.submit(),["prevent"]))},{default:a(()=>[o(c,null,{default:a(()=>[o(k,{"focus-all":"",modelValue:e.code,"onUpdate:modelValue":t[0]||(t[0]=l=>e.code=l),style:{direction:"ltr"}},null,8,["modelValue"]),o(p,null,{default:a(()=>[o(m,{class:"my-2 mx-4"},{default:a(()=>[o(S,{icon:"mdi-phone"}),h("b",null,r(e.$t("user.your_phone_number",{mobile:e.$route.params.id})),1),o(n,{class:"float-end",color:"indigo",onClick:t[1]||(t[1]=l=>e.onResendCodeClick())},{default:a(()=>[h("span",null,r(e.$t("user.send_again")),1)]),_:1})]),_:1})]),_:1}),o(n,{disabled:e.disableSend,loading:e.loading,block:"",class:"text-none mb-4",color:"indigo-darken-3",size:"x-large",variant:"flat","prepend-icon":"mdi-send",type:"submit"},{default:a(()=>[_(r(e.$t("dialog.active_account")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["disabled"])]),_:1},8,["loading","disabled","title","subtitle"])]),_:1})]),_:1})]),_:1}),e.dialog?(u(),d("div",N,[o(g,{modelValue:e.dialog,"onUpdate:modelValue":t[4]||(t[4]=l=>e.dialog=l),"max-width":"500",persistent:""},{default:a(()=>[o(i,{color:"dangerLight","prepend-icon":"mdi-close-octagon ",title:e.$t("dialog.error"),text:e.response.message},{actions:a(()=>[o(f),o(n,{color:"primary",text:e.$t("dialog.ok"),variant:"flat",onClick:t[3]||(t[3]=l=>{e.dialog=!1,e.loading=!1,e.code=""})},null,8,["text"])]),_:1},8,["title","text"])]),_:1},8,["modelValue"])])):$("",!0),e.dialogSuccess?(u(),d("div",T,[o(g,{modelValue:e.dialogSuccess,"onUpdate:modelValue":t[6]||(t[6]=l=>e.dialogSuccess=l),"max-width":"500",persistent:""},{default:a(()=>[o(i,{color:"successLight","prepend-icon":"mdi-check-bold ",title:e.$t("dialog.title"),text:e.response.message},{actions:a(()=>[o(f),o(n,{color:"primary",text:e.$t("dialog.ok"),variant:"flat",onClick:t[5]||(t[5]=l=>{e.dialog=!1,e.loading=!1,e.$router.push({name:"user_login"})})},null,8,["text"])]),_:1},8,["title","text"])]),_:1},8,["modelValue"])])):$("",!0)],64)}const O=A(E,[["render",U]]);export{O as default};
