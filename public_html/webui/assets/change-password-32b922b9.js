import{a as g,S as n,_ as h}from"./main-9b36f05f.js";import{h as v,r as $,a as t,o as b,s as D,b as e,w as s,F as k,aa as S,d as V,t as y}from"./vendor-adef9cb4.js";const B=v({name:"change_password",data(){return{loading:$(!1),formData:{password1:"",password2:""}}},methods:{async submit(){const{valid:o}=await this.$refs.form.validate();o&&this.formData.password1.toString()==this.formData.password2.toString()?(this.loading=!0,g.post("/api/user/change/password",{pass:this.formData.password1,repass:this.formData.password2}).then(a=>{this.loading=!1,a.data.Success==!0?n.fire({text:this.$t("pages.reset_password.password_changed"),confirmButtonText:this.$t("dialog.ok"),icon:"success"}).then(()=>{this.$router.push("/profile/dashboard")}):n.fire({text:a.data.message,confirmButtonText:this.$t("dialog.ok"),icon:"error"})})):this.formData.password1.toString()!=this.formData.password2.toString()?n.fire({text:this.$t("pages.reset_password.passwords_not_match"),confirmButtonText:this.$t("dialog.ok"),icon:"error"}):n.fire({text:this.$t("pages.reset_password.form_not_valid"),confirmButtonText:this.$t("dialog.ok"),icon:"error"})}}});function T(o,a,C,F,N,U){const d=t("v-toolbar"),l=t("v-text-field"),i=t("v-form"),p=t("v-card-text"),m=t("v-btn"),f=t("v-card-actions"),u=t("v-card"),c=t("v-col"),w=t("v-row"),_=t("v-container");return b(),D(k,null,[e(d,{color:"toolbar",title:o.$t("user.change_password")},null,8,["title"]),e(_,{class:"ma-0 pa-0"},{default:s(()=>[e(w,null,{default:s(()=>[e(c,null,{default:s(()=>[e(u,{loading:o.loading?"red":null,disabled:o.loading},{default:s(()=>[e(p,null,{default:s(()=>[e(i,{ref:"form",onSubmit:a[2]||(a[2]=S(()=>{},["prevent"]))},{default:s(()=>[e(l,{class:"mb-2",label:o.$t("user.password"),placeholder:o.$t("user.password_placeholder"),"single-line":"",type:"password",variant:"outlined","prepend-icon":"mdi-lock",modelValue:o.formData.password1,"onUpdate:modelValue":a[0]||(a[0]=r=>o.formData.password1=r),rules:[()=>o.formData.password1.length>7||o.$t("validator.password_len_lower")]},null,8,["label","placeholder","modelValue","rules"]),e(l,{label:o.$t("user.password"),placeholder:o.$t("user.password_placeholder"),"single-line":"",type:"password",variant:"outlined","prepend-icon":"mdi-lock",modelValue:o.formData.password2,"onUpdate:modelValue":a[1]||(a[1]=r=>o.formData.password2=r),rules:[()=>o.formData.password2.length>7||o.$t("validator.password_len_lower")]},null,8,["label","placeholder","modelValue","rules"])]),_:1},512)]),_:1}),e(f,null,{default:s(()=>[e(m,{loading:o.loading,onClick:a[3]||(a[3]=r=>o.submit()),type:"submit","prepend-icon":"mdi-content-save-check",variant:"flat",color:"primary"},{default:s(()=>[V(y(o.$t("dialog.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1})],64)}const P=h(B,[["render",T]]);export{P as default};
