import{_ as y,a as u,S as c}from"./main-9b36f05f.js";import{r as h,a as w,o,s as i,e as s,d as b,u as C,ab as x,b as $,w as d,aa as D,A as n}from"./vendor-adef9cb4.js";const _={name:"list",data:()=>({searchValue:"",loading:h(!0),cat:"all",items:[],headers:[{text:"عملیات",value:"operation",width:"130"},{text:"نام فایل",value:"filename",width:"100"},{text:"نوع فایل",value:"fileType",width:"120"},{text:"حجم (مگابایت)",value:"filesize",width:"100"},{text:"تاریخ ایجاد",value:"dateSubmit",width:"140"},{text:"ایجاد کننده",value:"submitter",width:"140"},{text:"دسترسی عمومی",value:"filePublic",width:"120"},{text:"دسته بندی",value:"cat",width:"120"}]}),methods:{loadData(a){u.post("/api/archive/list/"+a).then(t=>{this.items=t.data,this.loading=!1})},deleteItem(a){c.fire({text:"آیا برای حذف فایل مطمئن هستید؟",showCancelButton:!0,confirmButtonText:"بله",cancelButtonText:"خیر"}).then(t=>{t.isConfirmed&&u.post("api/archive/file/remove/"+a).then(r=>{r.data.result==1&&(this.loadData(this.cat),c.fire({text:"فایل با موفقیت حذف شد.",icon:"success",confirmButtonText:"قبول"}))})})},downloadFile(a,t,r){u.post(this.$filters.getApiUrl()+"/api/archive/file/get/"+a,{responseType:"arraybuffer"}).then(p=>{const m=new Blob([p.data],{type:r}),l=document.createElement("a");l.href=URL.createObjectURL(m),l.download=t,l.click(),URL.revokeObjectURL(l.href)})}},beforeMount(){this.loadData(this.cat)}},T={class:"block block-content-full"},V={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},B={class:"block-title text-primary-dark"},M={class:"block-content pt-1 pb-3"},U={class:"row"},P={class:"col-sm-12 col-md-3 p-1"},E={class:"list-group"},L={class:"col-sm-12 col-md-9 p-0"},N={class:"mb-1"},R={class:"input-group input-group-sm"},S=["onClick"],O=["onClick"],j={key:0},z={key:1},A={key:2},F={key:3},I={key:4},q={key:5},G={key:6},H={key:7},J={key:8},K={key:9},Q={key:10},W={key:11},X={key:12},Y={key:13},Z={key:14},tt={key:0,class:"text-success fa fa-check"},et={key:1,class:"text-danger fa fa-close"};function st(a,t,r,p,m,l){const f=w("EasyDataTable");return o(),i("div",T,[s("div",V,[s("h3",B,[s("button",{onClick:t[0]||(t[0]=e=>a.$router.back()),type:"button",class:"float-start d-none d-sm-none d-md-block btn btn-sm btn-link text-warning"},t[18]||(t[18]=[s("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),t[19]||(t[19]=s("i",{class:"fa fa-folder-tree px-2"},null,-1)),t[20]||(t[20]=b(" آرشیو فایل‌ها"))]),t[21]||(t[21]=s("div",{class:"block-options"},null,-1))]),s("div",M,[s("div",U,[s("div",P,[s("div",E,[t[22]||(t[22]=s("button",{class:"list-group-item list-group-item-action active","aria-current":"true"},[s("i",{class:"fa fa-folder-tree"}),b(" دسته بندی فایل‌ها ")],-1)),s("button",{type:"button",onClick:t[1]||(t[1]=e=>this.loadData("all")),class:"list-group-item list-group-item-action"},"همه فایل‌ها"),s("button",{type:"button",onClick:t[2]||(t[2]=e=>this.loadData("accounting")),class:"list-group-item list-group-item-action"},"اسناد حسابداری"),s("button",{type:"button",onClick:t[3]||(t[3]=e=>this.loadData("persons")),class:"list-group-item list-group-item-action"},"اشخاص"),s("button",{type:"button",onClick:t[4]||(t[4]=e=>this.loadData("commodity")),class:"list-group-item list-group-item-action"},"کالا"),s("button",{type:"button",onClick:t[5]||(t[5]=e=>this.loadData("bank")),class:"list-group-item list-group-item-action"},"بانک"),s("button",{type:"button",onClick:t[6]||(t[6]=e=>this.loadData("cashdesk")),class:"list-group-item list-group-item-action"},"صندوق"),s("button",{type:"button",onClick:t[7]||(t[7]=e=>this.loadData("salary")),class:"list-group-item list-group-item-action"},"تنخواه"),s("button",{type:"button",onClick:t[8]||(t[8]=e=>this.loadData("storeroom")),class:"list-group-item list-group-item-action"},"انبار"),s("button",{type:"button",onClick:t[9]||(t[9]=e=>this.loadData("transfer")),class:"list-group-item list-group-item-action"},"انتقال"),s("button",{type:"button",onClick:t[10]||(t[10]=e=>this.loadData("persons_recive")),class:"list-group-item list-group-item-action"},"دریافت"),s("button",{type:"button",onClick:t[11]||(t[11]=e=>this.loadData("persns_send")),class:"list-group-item list-group-item-action"},"پرداخت"),s("button",{type:"button",onClick:t[12]||(t[12]=e=>this.loadData("income")),class:"list-group-item list-group-item-action"},"درآمد"),s("button",{type:"button",onClick:t[13]||(t[13]=e=>this.loadData("cost")),class:"list-group-item list-group-item-action"},"هزینه"),s("button",{type:"button",onClick:t[14]||(t[14]=e=>this.loadData("buy")),class:"list-group-item list-group-item-action"},"خرید"),s("button",{type:"button",onClick:t[15]||(t[15]=e=>this.loadData("sell")),class:"list-group-item list-group-item-action"},"فروش"),s("button",{type:"button",onClick:t[16]||(t[16]=e=>this.loadData("onlinestore")),class:"list-group-item list-group-item-action"},"فروشگاه آنلاین")])]),s("div",L,[s("div",N,[s("div",R,[t[23]||(t[23]=s("span",{class:"input-group-text"},[s("i",{class:"fa fa-search"})],-1)),C(s("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>a.searchValue=e),class:"form-control",type:"text",placeholder:"جست و جو ..."},null,512),[[x,a.searchValue]])])]),$(f,{"table-class-name":"customize-table","show-index":"",alternating:"","search-value":a.searchValue,headers:a.headers,items:a.items,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:a.loading},{"item-operation":d(({id:e,filename:k,fileType:g})=>[s("a",{class:"btn btn-link",href:"/",onClick:D(v=>l.downloadFile(e,k,g),["prevent"])},t[24]||(t[24]=[s("i",{class:"fa fa-download"},null,-1)]),8,S),s("button",{onClick:v=>l.deleteItem(e),class:"btn ms-2 btn-link text-danger"},t[25]||(t[25]=[s("i",{class:"fa fa-trash"},null,-1)]),8,O)]),"item-cat":d(({cat:e})=>[e=="accounting"?(o(),i("span",j,"اسناد حسابداری")):n("",!0),e=="persons"?(o(),i("span",z,"اشخاص")):n("",!0),e=="commodity"?(o(),i("span",A,"کالا")):n("",!0),e=="bank"?(o(),i("span",F,"بانک")):n("",!0),e=="cashdesk"?(o(),i("span",I,"صندوق")):n("",!0),e=="salary"?(o(),i("span",q,"تنخواه گردان")):n("",!0),e=="transfer"?(o(),i("span",G,"انتقال")):n("",!0),e=="storeroom"?(o(),i("span",H,"انبار")):n("",!0),e=="persons_recive"?(o(),i("span",J,"دریافت")):n("",!0),e=="persns_send"?(o(),i("span",K,"پرداخت")):n("",!0),e=="income"?(o(),i("span",Q,"درآمد")):n("",!0),e=="cost"?(o(),i("span",W,"هزینه")):n("",!0),e=="buy"?(o(),i("span",X,"خرید")):n("",!0),e=="sell"?(o(),i("span",Y,"فروش")):n("",!0),e=="onlinestore"?(o(),i("span",Z,"فروشگاه آنلاین")):n("",!0)]),"item-filePublic":d(({filePublic:e})=>[e?(o(),i("i",tt)):(o(),i("i",et))]),_:1},8,["search-value","headers","items","loading"])])])])])}const nt=y(_,[["render",st]]);export{nt as default};
