import{a as n,S as c,_ as w}from"./main-9b36f05f.js";import{h as C,r as y,a as m,o as k,s as x,e as t,d as u,b as i,w as l,u as f,ab as b}from"./vendor-adef9cb4.js";const I=C({name:"ticketList",data:()=>({printID:"",loading:y(!1),inputItems:[],inputSearchValue:"",outputItems:[],outputSearchValue:"",headers:[{text:"عملیات",value:"operation",width:"120"},{text:"شماره",value:"code"},{text:"تاریخ",value:"date",sortable:!0},{text:"شماره فاکتور",value:"doc.code",sortable:!0,width:"100"},{text:"شخص",value:"person.nikename",sortable:!0,width:"120"},{text:"توضیحات",value:"des",sortable:!0,width:"300"}]}),methods:{loadData(){n.post("/api/storeroom/tickets/list/input").then(s=>{this.inputItems=s.data,this.loading=!1}),n.post("/api/storeroom/tickets/list/output").then(s=>{this.outputItems=s.data,this.loading=!1}),n.post("/api/storeroom/tickets/list/input").then(s=>{this.inputItems=s.data,this.loading=!1})},deleteTicket(s,e){c.fire({text:"آیا برای حذف این حواله مطمئن هستید؟",icon:"warning",confirmButtonText:"قبول",showCancelButton:!0,cancelButtonText:"انصراف"}).then(d=>{d.isConfirmed&&(this.loading=!0,n.post("/api/storeroom/ticket/remove/"+e).then(h=>{this.loading=!1,c.fire({text:"حواله انبار حذف شد.",icon:"success",confirmButtonText:"قبول"}).then(g=>{if(s=="input")for(let a=0;a<this.inputItems.length;a++)this.inputItems[a].code==e&&this.inputItems.splice(a,1);else if(s=="output")for(let a=0;a<this.outputItems.length;a++)this.outputItems[a].code==e&&this.outputItems.splice(a,1)})}))})}},beforeMount(){this.loadData()}}),F={class:"block block-content-full"},V={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},S={class:"block-title text-primary-dark"},T={class:"block-options"},D={class:"block-content p-0"},_={class:"col-sm-12 col-md-12 m-0 p-0"},M={class:"tab-content p-0",id:"myTabContent"},$={class:"tab-pane fade show active",id:"profile",role:"tabpanel","aria-labelledby":"profile-tab"},B={class:"m-1"},A={class:"input-group input-group-sm"},P={class:"dropdown-center"},z={"aria-labelledby":"dropdown-align-center-outline-primary",class:"dropdown-menu dropdown-menu-end",style:{}},E=["onClick"],N={class:"tab-pane fade",id:"pays",role:"tabpanel","aria-labelledby":"pays-tab"},L={class:"m-1"},O={class:"input-group input-group-sm"},U={class:"dropdown-center"},j={"aria-labelledby":"dropdown-align-center-outline-primary",class:"dropdown-menu dropdown-menu-end",style:{}},q=["onClick"];function G(s,e,d,h,g,a){const r=m("router-link"),p=m("EasyDataTable");return k(),x("div",F,[t("div",V,[t("h3",S,[t("button",{onClick:e[0]||(e[0]=o=>s.$router.back()),type:"button",class:"float-start d-none d-sm-none d-md-block btn btn-sm btn-link text-warning"},e[3]||(e[3]=[t("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),e[4]||(e[4]=t("i",{class:"mx-2 fa fa-folder-tree"},null,-1)),e[5]||(e[5]=u(" حواله‌های انبار "))]),t("div",T,[i(r,{to:"/acc/storeroom/new/ticket/type",class:"btn btn-sm btn-primary ms-1"},{default:l(()=>e[6]||(e[6]=[t("span",{class:"fa fa-plus fw-bolder"},null,-1)])),_:1})])]),t("div",D,[t("div",_,[e[15]||(e[15]=t("ul",{class:"nav nav-pills flex-column flex-sm-row border border-secondary",id:"myTab",role:"tablist"},[t("button",{class:"flex-sm-fill text-sm-center nav-link rounded-0 active",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"true"},[t("i",{class:"fa fa-file-export me-2"}),u(" حواله‌های خروج ")]),t("button",{class:"flex-sm-fill text-sm-center nav-link rounded-0",id:"pays-tab","data-bs-toggle":"tab","data-bs-target":"#pays",type:"button",role:"tab","aria-controls":"pays","aria-selected":"false"},[t("i",{class:"fa fa-file-import me-2"}),u(" حواله‌های ورود ")])],-1)),t("div",M,[t("div",$,[t("div",B,[t("div",A,[e[7]||(e[7]=t("span",{class:"input-group-text"},[t("i",{class:"fa fa-search"})],-1)),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>s.outputSearchValue=o),class:"form-control",type:"text",placeholder:"جست و جو ..."},null,512),[[b,s.outputSearchValue]])])]),i(p,{"table-class-name":"customize-table","multi-sort":"","show-index":"",alternating:"","search-value":s.outputSearchValue,headers:s.headers,items:s.outputItems,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:s.loading},{"item-operation":l(({code:o})=>[t("div",P,[e[10]||(e[10]=t("button",{"aria-expanded":"false","aria-haspopup":"true",class:"btn btn-sm btn-link","data-bs-toggle":"dropdown",id:"dropdown-align-center-alt-primary",type:"button"},[t("i",{class:"fa-solid fa-ellipsis"})],-1)),t("div",z,[i(r,{class:"dropdown-item",to:"/acc/storeroom/ticket/view/"+o},{default:l(()=>e[8]||(e[8]=[t("i",{class:"fa fa-eye text-success pe-2"},null,-1),u(" مشاهده ")])),_:2},1032,["to"]),t("button",{type:"button",onClick:v=>s.deleteTicket("output",o),class:"dropdown-item text-danger"},e[9]||(e[9]=[t("i",{class:"fa fa-trash pe-2"},null,-1),u(" حذف ")]),8,E)])])]),_:1},8,["search-value","headers","items","loading"])]),t("div",N,[t("div",L,[t("div",O,[e[11]||(e[11]=t("span",{class:"input-group-text"},[t("i",{class:"fa fa-search"})],-1)),f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.inputSearchValue=o),class:"form-control",type:"text",placeholder:"جست و جو ..."},null,512),[[b,s.inputSearchValue]])])]),i(p,{"table-class-name":"customize-table","multi-sort":"","show-index":"",alternating:"","search-value":s.inputSearchValue,headers:s.headers,items:s.inputItems,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:s.loading},{"item-operation":l(({code:o})=>[t("div",U,[e[14]||(e[14]=t("button",{"aria-expanded":"false","aria-haspopup":"true",class:"btn btn-sm btn-link","data-bs-toggle":"dropdown",id:"dropdown-align-center-alt-primary",type:"button"},[t("i",{class:"fa-solid fa-ellipsis"})],-1)),t("div",j,[i(r,{class:"dropdown-item",to:"/acc/storeroom/ticket/view/"+o},{default:l(()=>e[12]||(e[12]=[t("i",{class:"fa fa-eye text-success pe-2"},null,-1),u(" مشاهده ")])),_:2},1032,["to"]),t("button",{type:"button",onClick:v=>s.deleteTicket("input",o),class:"dropdown-item text-danger"},e[13]||(e[13]=[t("i",{class:"fa fa-trash pe-2"},null,-1),u(" حذف ")]),8,q)])])]),_:1},8,["search-value","headers","items","loading"])])])])])])}const K=w(I,[["render",G]]);export{K as default};
