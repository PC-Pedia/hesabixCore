import{_ as y,a as h,S as k}from"./main-9b36f05f.js";import{r as x,a as g,o as n,s as r,e,d,b as u,w as o,u as _,ab as M,t as i,A as c}from"./vendor-adef9cb4.js";const V={name:"list",components:{},data:()=>({showTransferModal:{},transferQuickDoc:{},searchValue:"",loading:x(!0),items:[],headers:[{text:"عملیات",value:"operation"},{text:"شماره سند",value:"code",sortable:!0},{text:"تاریخ",value:"date",sortable:!0},{text:"از",value:"fromType",sortable:!0},{text:"به",value:"toType",sortable:!0},{text:"مبلغ",value:"amount",sortable:!0},{text:"شرح",value:"des",sortable:!0},{text:"ثبت کننده",value:"submitter",sortable:!0}]}),methods:{showModal(a){var t=bootstrap.Modal.getOrCreateInstance(document.getElementById("quickTransferView"));t.show()},hideModal(){var a=bootstrap.Modal.getOrCreateInstance(document.getElementById("quickTransferView"));a.hide()},loadData(){h.post("/api/transfer/search").then(a=>{this.items=a.data,this.items.forEach(t=>{t.amount=this.$filters.formatNumber(t.amount)}),this.loading=!1})},deleteItem(a){k.fire({text:"آیا برای حذف این مورد مطمئن هستید؟",showCancelButton:!0,confirmButtonText:"بله",cancelButtonText:"خیر"}).then(t=>{t.isConfirmed&&h.post("/api/accounting/remove",{code:a}).then(b=>{if(b.data.result==1){let f=0;for(let p=0;p<this.items.length;p++)f++,this.items[p].code==a&&this.items.splice(f-1,1);k.fire({text:"سند انتقال با موفقیت حذف شد.",icon:"success",confirmButtonText:"قبول"})}})})}},beforeMount(){this.loadData()}},C={class:"block block-content-full"},T={id:"fixed-header",class:"block-header block-header-default bg-gray-light pt-2 pb-1"},B={class:"block-title text-primary-dark"},D={class:"block-options"},$={class:"block-content pt-1 pb-3"},E={class:"row"},I={class:"col-sm-12 col-md-12 m-0 p-0"},N={class:"mb-1"},S={class:"input-group input-group-sm"},P={class:"dropdown-center"},q={"aria-labelledby":"dropdown-align-center-outline-primary",class:"dropdown-menu dropdown-menu-end",style:{}},z=["onClick"],A={key:0},Q={key:1},U={key:2},F={key:0},G={key:1},H={key:2};function J(a,t,b,f,p,v){const m=g("router-link"),w=g("EasyDataTable");return n(),r("div",C,[e("div",T,[e("h3",B,[e("button",{onClick:t[0]||(t[0]=s=>a.$router.back()),type:"button",class:"float-start d-none d-sm-none d-md-block btn btn-sm btn-link text-warning"},t[2]||(t[2]=[e("i",{class:"fa fw-bold fa-arrow-right"},null,-1)])),t[3]||(t[3]=e("i",{class:"fa fa-book"},null,-1)),t[4]||(t[4]=d(" لیست انتقال‌ها "))]),e("div",D,[u(m,{title:"افزودن سند انتقال جدید",to:"/acc/transfer/mod/",class:"block-options-item"},{default:o(()=>t[5]||(t[5]=[e("span",{class:"fa fa-plus fw-bolder"},null,-1)])),_:1})])]),e("div",$,[e("div",E,[e("div",I,[e("div",N,[e("div",S,[t[6]||(t[6]=e("span",{class:"input-group-text"},[e("i",{class:"fa fa-search"})],-1)),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.searchValue=s),class:"form-control",type:"text",placeholder:"جست و جو ..."},null,512),[[M,a.searchValue]])])]),u(w,{"table-class-name":"customize-table","show-index":"",alternating:"","search-value":a.searchValue,headers:a.headers,items:a.items,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:a.loading},{"item-operation":o(({code:s,type:l})=>[e("div",P,[t[11]||(t[11]=e("button",{"aria-expanded":"false","aria-haspopup":"true",class:"btn btn-sm btn-link","data-bs-toggle":"dropdown",id:"dropdown-align-center-alt-primary",type:"button"},[e("i",{class:"fa-solid fa-ellipsis"})],-1)),e("div",q,[u(m,{class:"dropdown-item",to:"/acc/accounting/view/"+s},{default:o(()=>t[7]||(t[7]=[e("i",{class:"fa fa-file text-success pe-2"},null,-1),d(" سند حسابداری ")])),_:2},1032,["to"]),u(m,{to:"/acc/transfer/mod/"+s,class:"dropdown-item"},{default:o(()=>t[8]||(t[8]=[e("i",{class:"fa fa-eye text-primary pe-2"},null,-1),d(" مشاهده ")])),_:2},1032,["to"]),u(m,{to:"/acc/transfer/mod/"+s,class:"dropdown-item"},{default:o(()=>t[9]||(t[9]=[e("i",{class:"fa fa-edit pe-2"},null,-1),d(" ویرایش ")])),_:2},1032,["to"]),e("button",{type:"button",onClick:K=>v.deleteItem(s),class:"dropdown-item text-danger"},t[10]||(t[10]=[e("i",{class:"fa fa-trash pe-2"},null,-1),d(" حذف ")]),8,z)])])]),"item-fromType":o(({fromType:s,fromObject:l})=>[s=="bank"?(n(),r("label",A,"حساب بانکی: "+i(l),1)):c("",!0),s=="salary"?(n(),r("label",Q,"تنخواه گردان: "+i(l),1)):c("",!0),s=="cashDesk"?(n(),r("label",U,"صندوق: "+i(l),1)):c("",!0)]),"item-toType":o(({toType:s,toObject:l})=>[s=="bank"?(n(),r("label",F,"حساب بانکی: "+i(l),1)):c("",!0),s=="salary"?(n(),r("label",G,"تنخواه گردان: "+i(l),1)):c("",!0),s=="cashDesk"?(n(),r("label",H,"صندوق: "+i(l),1)):c("",!0)]),"item-code":o(({code:s})=>[u(m,{class:"btn-link",to:"/acc/accounting/view/"+s},{default:o(()=>[d(i(s),1)]),_:2},1032,["to"])]),_:1},8,["search-value","headers","items","loading"])])])])])}const W=y(V,[["render",J]]);export{W as default};
