import{a as _,S as d,_ as z}from"./main-9b36f05f.js";import{h as P,r as V,a,o as E,s as M,b as e,w as o,F as A,_ as v,d as f,t as g}from"./vendor-adef9cb4.js";const I=P({name:"list",data:()=>({searchValue:"",loading:V(!0),items:[],headers:[{text:"عملیات",value:"operation"},{text:"تاریخ",value:"dateSubmit",sortable:!0},{text:"نسخه",value:"version",sortable:!0}]}),methods:{loadData(){this.loading=!0,_.post("/api/admin/reportchange/lists").then(t=>{this.items=t.data,this.loading=!1})},deleteItem(t){d.fire({text:"آیا برای حذف این مورد مطمئن هستید؟",showCancelButton:!0,confirmButtonText:"بله",cancelButtonText:"خیر",icon:"warning"}).then(u=>{u.isConfirmed&&_.post("/api/admin/reportchange/delete/"+t).then(s=>{if(s.data.result==1){let c=0;for(let i=0;i<this.items.length;i++)c++,this.items[i].id==t&&this.items.splice(c-1,1);d.fire({text:"با موفقیت حذف شد.",icon:"success",confirmButtonText:"قبول"})}else s.data.result==2&&d.fire({text:s.data.message,icon:"warning",confirmButtonText:"قبول"})})})}},mounted(){this.loadData()}});function N(t,u,s,c,i,O){const h=a("v-spacer"),l=a("v-btn"),b=a("v-tooltip"),C=a("v-toolbar"),m=a("v-icon"),p=a("v-list-item"),x=a("v-list"),k=a("v-menu"),w=a("EasyDataTable"),$=a("v-col"),y=a("v-row"),B=a("v-card-text"),F=a("v-card"),T=a("v-container");return E(),M(A,null,[e(C,{color:"toolbar",title:t.$t("user.history")},{default:o(()=>[e(h),e(b,{text:t.$t("dialog.new"),location:"bottom"},{activator:o(({props:n})=>[e(l,v(n,{icon:"mdi-plus",color:"primary",to:"/profile/manager/changes/mod/0"}),null,16)]),_:1},8,["text"])]),_:1},8,["title"]),e(T,{class:"pa-0 ma-0"},{default:o(()=>[e(F,{loading:t.loading?"red":null,disabled:t.loading},{default:o(()=>[e(B,{class:"pa-0"},{default:o(()=>[e(y,null,{default:o(()=>[e($,null,{default:o(()=>[e(w,{"table-class-name":"customize-table","show-index":"",alternating:"","search-value":t.searchValue,headers:t.headers,items:t.items,"theme-color":"#1d90ff","header-text-direction":"center","body-text-direction":"center",rowsPerPageMessage:"تعداد سطر",emptyMessage:"اطلاعاتی برای نمایش وجود ندارد",rowsOfPageSeparatorMessage:"از",loading:t.loading},{"item-operation":o(({id:n})=>[e(k,null,{activator:o(({props:r})=>[e(l,v({variant:"text",color:"error",icon:"mdi-menu"},r),null,16)]),default:o(()=>[e(x,null,{default:o(()=>[e(p,{class:"text-dark",title:t.$t("dialog.edit"),to:"/profile/manager/changes/mod/"+n},{prepend:o(()=>[e(m,{icon:"mdi-file-edit"})]),_:2},1032,["title","to"]),e(p,{class:"text-dark",title:t.$t("dialog.delete"),onClick:r=>t.deleteItem(n)},{prepend:o(()=>[e(m,{color:"error",icon:"mdi-trash-can"})]),_:2},1032,["title","onClick"])]),_:2},1024)]),_:2},1024)]),pagination:o(({prevPage:n,nextPage:r,isFirstPage:D,isLastPage:S})=>[e(l,{size:"small",color:"success",class:"me-1",disabled:D,onClick:n,"prepend-icon":"mdi-skip-next"},{default:o(()=>[f(g(t.$t("dialog.prev_page")),1)]),_:2},1032,["disabled","onClick"]),e(l,{size:"small",color:"success",class:"me-1",disabled:S,onClick:r,"append-icon":"mdi-skip-previous"},{default:o(()=>[f(g(t.$t("dialog.next_page")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["search-value","headers","items","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["loading","disabled"])]),_:1})],64)}const G=z(I,[["render",N]]);export{G as default};
