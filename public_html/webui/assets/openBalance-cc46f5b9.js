import{_ as A,L as E,a as y}from"./main-9b36f05f.js";import{a as o,o as d,s as V,b as a,w as s,F as C,_ as m,c as _,A as I,d as v,t as n,C as F,e as f}from"./vendor-adef9cb4.js";const M={name:"table",components:{Loading:E},data:()=>({loading:!1,currencyConfig:{masked:!1,prefix:"",suffix:"",thousands:",",decimal:".",precision:0,disableNegative:!0,disabled:!1,min:0,max:null,allowBlank:!1,minimumNumberOfCharacters:1,shouldRound:!1,focusOnRight:!0},sheet:{banks:!1,cashdesks:!1,salarys:!1,shareholders:!1},data:{banks:[],cashdesks:[],salarys:[],shareholders:[]},sums:{banks:0,cashdesks:0,salarys:0,shareholders:0,degSum:0,shareSum:0}}),mounted(){this.loadData()},methods:{loadData(){this.sums.banks=0,this.sums.cashdesks=0,this.sums.salarys=0,this.sums.shareholders=0,y.post("/api/openbalance/get").then(e=>{this.data=e.data.data,this.data.banks.forEach(l=>{l.openbalance!=null?this.sums.banks+=parseFloat(l.openbalance):l.openbalance=0}),this.data.cashdesks.forEach(l=>{l.openbalance!=null?this.sums.cashdesks+=parseFloat(l.openbalance):l.openbalance=0}),this.data.salarys.forEach(l=>{l.openbalance!=null?this.sums.salarys+=parseFloat(l.openbalance):l.openbalance=0}),this.data.shareholders.forEach(l=>{l.openbalance!=null?this.sums.shareholders+=parseFloat(l.openbalance):l.openbalance=0}),this.sums.degSum=parseFloat(this.sums.banks)+parseFloat(this.sums.cashdesks)+parseFloat(this.sums.salarys),this.sums.shareSum=parseFloat(this.sums.shareholders)})},saveBanks(){this.loading=!0,y.post("/api/openbalance/save/banks",this.data.banks).then(e=>{this.loading=!1,this.loadData(),this.sheet.banks=!1})},saveCashdesks(){this.loading=!0,y.post("/api/openbalance/save/cashdesks",this.data.cashdesks).then(e=>{this.loading=!1,this.loadData(),this.sheet.cashdesks=!1})},saveSalarys(){this.loading=!0,y.post("/api/openbalance/save/salarys",this.data.salarys).then(e=>{this.loading=!1,this.loadData(),this.sheet.salarys=!1})},saveShareholders(){this.loading=!0,y.post("/api/openbalance/save/shareholders",this.data.shareholders).then(e=>{this.loading=!1,this.loadData(),this.sheet.shareholders=!1})}}},L={class:"form-floating mb-3"},q={for:"floatingInput"},O={class:"form-floating mb-3"},P={for:"floatingInput"},T={class:"form-floating mb-3"},j={for:"floatingInput"},z={class:"form-floating mb-3"},G={for:"floatingInput"};function H(e,l,J,K,Q,w){const i=o("v-btn"),u=o("v-tooltip"),g=o("v-spacer"),k=o("v-toolbar"),D=o("v-alert"),h=o("v-col"),p=o("v-list-item"),B=o("v-list"),b=o("v-card-text"),c=o("v-card"),$=o("v-row"),R=o("v-container"),S=o("v-icon"),N=o("money3"),U=o("v-bottom-sheet");return d(),V(C,null,[a(k,{color:"toolbar",title:e.$t("drawer.open_balance")},{prepend:s(()=>[a(u,{text:e.$t("dialog.back"),location:"bottom"},{activator:s(({props:t})=>[a(i,m(t,{onClick:l[0]||(l[0]=r=>e.$router.back()),class:"d-none d-sm-flex",variant:"text",icon:"mdi-arrow-right"}),null,16)]),_:1},8,["text"])]),default:s(()=>[a(g)]),_:1},8,["title"]),a(R,null,{default:s(()=>[a($,{class:"pa-1"},{default:s(()=>[e.sums.degSum!=e.sums.shareSum?(d(),_(h,{key:0,cols:"12",sm:"12",md:"12"},{default:s(()=>[a(D,{title:e.$t("dialog.error"),text:e.$t("dialog.openbalance_notvalid"),type:"warning"},null,8,["title","text"])]),_:1})):I("",!0),a(h,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(c,{title:e.$t("dialog.deg"),subtitle:e.$t("dialog.deg_info"),color:"success"},{default:s(()=>[a(b,{class:"px-0 pb-0"},{default:s(()=>[a(B,{class:"py-0"},{default:s(()=>[a(p,{onClick:l[1]||(l[1]=t=>e.sheet.banks=!e.sheet.banks),value:"banks",title:e.$t("drawer.banks")},{append:s(()=>[v(n(e.$filters.formatNumber(e.sums.banks,!0)),1)]),_:1},8,["title"]),a(p,{onClick:l[2]||(l[2]=t=>e.sheet.cashdesks=!e.sheet.cashdesks),value:"cashdesks",title:e.$t("drawer.cashdesks")},{append:s(()=>[v(n(e.$filters.formatNumber(e.sums.cashdesks,!0)),1)]),_:1},8,["title"]),a(p,{onClick:l[3]||(l[3]=t=>e.sheet.salarys=!e.sheet.salarys),value:"salarys",title:e.$t("drawer.salarys")},{append:s(()=>[v(n(e.$filters.formatNumber(e.sums.salarys,!0)),1)]),_:1},8,["title"]),a(p,{title:e.$t("dialog.sum"),class:"bg-light"},{append:s(()=>[v(n(e.$filters.formatNumber(e.sums.degSum,!0)),1)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["title","subtitle"])]),_:1}),a(h,{cols:"12",sm:"12",md:"6"},{default:s(()=>[a(c,{title:e.$t("dialog.shareloders_equity"),subtitle:e.$t("dialog.shareloders_equity_info"),color:"info"},{default:s(()=>[a(b,{class:"px-0 pb-0"},{default:s(()=>[a(B,{class:"py-0"},{default:s(()=>[a(p,{onClick:l[4]||(l[4]=t=>e.sheet.shareholders=!e.sheet.shareholders),value:"shareholders",title:e.$t("drawer.shareholders")},{append:s(()=>[v(n(e.$filters.formatNumber(e.sums.shareholders,!0)),1)]),_:1},8,["title"]),a(p,{title:e.$t("dialog.sum"),class:"bg-light"},{append:s(()=>[v(n(e.$filters.formatNumber(e.sums.shareSum,!0)),1)]),_:1},8,["title"])]),_:1})]),_:1})]),_:1},8,["title","subtitle"])]),_:1})]),_:1})]),_:1}),a(U,{inset:"",modelValue:e.sheet.banks,"onUpdate:modelValue":l[7]||(l[7]=t=>e.sheet.banks=t)},{default:s(()=>[a(k,{color:"toolbar",title:e.$t("drawer.banks")},{prepend:s(()=>[a(u,{text:e.$t("dialog.close"),location:"bottom"},{activator:s(({props:t})=>[a(i,m(t,{onClick:l[5]||(l[5]=r=>e.sheet.banks=!1),class:"d-none d-sm-flex",variant:"text",icon:"mdi-close"}),null,16)]),_:1},8,["text"])]),default:s(()=>[a(g),a(i,{loading:e.loading,onClick:l[6]||(l[6]=t=>w.saveBanks()),icon:"",color:"green"},{default:s(()=>[a(u,{activator:"parent",text:e.$t("dialog.save"),location:"bottom"},null,8,["text"]),a(S,{icon:"mdi-content-save"})]),_:1},8,["loading"])]),_:1},8,["title"]),a(c,null,{default:s(()=>[a(b,null,{default:s(()=>[a($,null,{default:s(()=>[(d(!0),V(C,null,F(e.data.banks,t=>(d(),_(h,{key:"item.info.id"},{default:s(()=>[f("div",L,[a(N,m({ref_for:!0},e.currencyConfig,{min:"0",class:"form-control",modelValue:t.openbalance,"onUpdate:modelValue":r=>t.openbalance=r}),null,16,["modelValue","onUpdate:modelValue"]),f("label",q,n(t.info.name)+" ("+n(e.$filters.getActiveMoney().symbol)+") ",1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(U,{inset:"",modelValue:e.sheet.cashdesks,"onUpdate:modelValue":l[10]||(l[10]=t=>e.sheet.cashdesks=t)},{default:s(()=>[a(k,{color:"toolbar",title:e.$t("drawer.cashdesks")},{prepend:s(()=>[a(u,{text:e.$t("dialog.close"),location:"bottom"},{activator:s(({props:t})=>[a(i,m(t,{onClick:l[8]||(l[8]=r=>e.sheet.cashdesks=!1),class:"d-none d-sm-flex",variant:"text",icon:"mdi-close"}),null,16)]),_:1},8,["text"])]),default:s(()=>[a(g),a(i,{loading:e.loading,onClick:l[9]||(l[9]=t=>w.saveCashdesks()),icon:"",color:"green"},{default:s(()=>[a(u,{activator:"parent",text:e.$t("dialog.save"),location:"bottom"},null,8,["text"]),a(S,{icon:"mdi-content-save"})]),_:1},8,["loading"])]),_:1},8,["title"]),a(c,null,{default:s(()=>[a(b,null,{default:s(()=>[a($,null,{default:s(()=>[(d(!0),V(C,null,F(e.data.cashdesks,t=>(d(),_(h,{key:"item.info.id"},{default:s(()=>[f("div",O,[a(N,m({ref_for:!0},e.currencyConfig,{min:"0",class:"form-control",modelValue:t.openbalance,"onUpdate:modelValue":r=>t.openbalance=r}),null,16,["modelValue","onUpdate:modelValue"]),f("label",P,n(t.info.name)+" ("+n(e.$filters.getActiveMoney().symbol)+") ",1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(U,{inset:"",modelValue:e.sheet.salarys,"onUpdate:modelValue":l[13]||(l[13]=t=>e.sheet.salarys=t)},{default:s(()=>[a(k,{color:"toolbar",title:e.$t("drawer.salarys")},{prepend:s(()=>[a(u,{text:e.$t("dialog.close"),location:"bottom"},{activator:s(({props:t})=>[a(i,m(t,{onClick:l[11]||(l[11]=r=>e.sheet.salarys=!1),class:"d-none d-sm-flex",variant:"text",icon:"mdi-close"}),null,16)]),_:1},8,["text"])]),default:s(()=>[a(g),a(i,{loading:e.loading,onClick:l[12]||(l[12]=t=>w.saveSalarys()),icon:"",color:"green"},{default:s(()=>[a(u,{activator:"parent",text:e.$t("dialog.save"),location:"bottom"},null,8,["text"]),a(S,{icon:"mdi-content-save"})]),_:1},8,["loading"])]),_:1},8,["title"]),a(c,null,{default:s(()=>[a(b,null,{default:s(()=>[a($,null,{default:s(()=>[(d(!0),V(C,null,F(e.data.salarys,t=>(d(),_(h,{key:"item.info.id"},{default:s(()=>[f("div",T,[a(N,m({ref_for:!0},e.currencyConfig,{min:"0",class:"form-control",modelValue:t.openbalance,"onUpdate:modelValue":r=>t.openbalance=r}),null,16,["modelValue","onUpdate:modelValue"]),f("label",j,n(t.info.name)+" ("+n(e.$filters.getActiveMoney().symbol)+") ",1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(U,{inset:"",modelValue:e.sheet.shareholders,"onUpdate:modelValue":l[16]||(l[16]=t=>e.sheet.shareholders=t)},{default:s(()=>[a(k,{color:"toolbar",title:e.$t("drawer.shareholders")},{prepend:s(()=>[a(u,{text:e.$t("dialog.close"),location:"bottom"},{activator:s(({props:t})=>[a(i,m(t,{onClick:l[14]||(l[14]=r=>e.sheet.shareholders=!1),class:"d-none d-sm-flex",variant:"text",icon:"mdi-close"}),null,16)]),_:1},8,["text"])]),default:s(()=>[a(g),a(i,{loading:e.loading,onClick:l[15]||(l[15]=t=>w.saveShareholders()),icon:"",color:"green"},{default:s(()=>[a(u,{activator:"parent",text:e.$t("dialog.save"),location:"bottom"},null,8,["text"]),a(S,{icon:"mdi-content-save"})]),_:1},8,["loading"])]),_:1},8,["title"]),a(c,null,{default:s(()=>[a(b,null,{default:s(()=>[a($,null,{default:s(()=>[(d(!0),V(C,null,F(e.data.shareholders,t=>(d(),_(h,{key:"item.info.id"},{default:s(()=>[f("div",z,[a(N,m({ref_for:!0},e.currencyConfig,{min:"0",class:"form-control",modelValue:t.openbalance,"onUpdate:modelValue":r=>t.openbalance=r}),null,16,["modelValue","onUpdate:modelValue"]),f("label",G,n(t.info.nikename)+" ("+n(e.$filters.getActiveMoney().symbol)+") ",1)])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const Y=A(M,[["render",H]]);export{Y as default};
