import{L as r,a as n,S as d,_ as c}from"./main-9b36f05f.js";import{h as p,r as m,a as h,o as a,s as i,e as s,ar as b,u as f,ab as g,b as v,F as C,C as y,t as _,A as $}from"./vendor-adef9cb4.js";const k=p({name:"notes",components:{Loading:r},props:{stat:Object,code:String,typeNote:String},data:()=>({loading:m(!0),items:[],des:""}),methods:{loadData(){this.loading=!0,n.post("/api/notes/list",{type:this.$props.typeNote,code:this.$props.code}).then(t=>{this.items=t.data,this.$props.stat.count=t.data.length,this.loading=!1})},remove(t){this.loading=!0,n.post("/api/notes/remove/"+t).then(e=>{this.loading=!1,d.fire({text:" با موفقیت حذف شد.",icon:"success",confirmButtonText:"قبول"}).then(l=>{this.loadData()})})},save(){this.des.trim()==""?d.fire({text:"شرح الزامی است.",icon:"error",confirmButtonText:"قبول"}):(this.loading=!0,n.post("/api/notes/add",{des:this.des,type:this.$props.typeNote,code:this.$route.params.id}).then(t=>{this.loading=!1,d.fire({text:" با موفقیت ثبت شد.",icon:"success",confirmButtonText:"قبول"}).then(e=>{this.loadData(),this.des=""})}))}},mounted(){this.loadData()}}),x={class:"modal modal-lg fade",id:"notesModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"notesModalLabel","aria-hidden":"true"},D={class:"modal-dialog"},B={class:"modal-content"},L={class:"modal-body"},N={class:"input-group mb-3"},A=["disabled"],F=["disabled"],S={class:"list-group-item d-flex justify-content-between align-items-center"},w={class:""},V=["onClick"],M={key:0};function T(t,e,l,j,U,E){const u=h("Loading");return a(),i("div",x,[s("div",D,[s("div",B,[e[4]||(e[4]=b('<div class="modal-header bg-warning text-white"><h1 class="modal-title fs-5" id="notesModalLabel"><i class="fa-regular fa-note-sticky me-1"></i> یاداشت‌ها </h1><div class="block-options"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div></div>',1)),s("div",L,[s("div",N,[f(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.des=o),type:"text",class:"form-control",placeholder:"شرح","aria-label":"افزودن یاداشت","aria-describedby":"button-addon1"},null,512),[[g,t.des]]),s("button",{disabled:this.loading,onClick:e[1]||(e[1]=o=>t.save()),class:"btn btn-outline-success",type:"button",id:"button-addon1"},"ثبت",8,A)]),v(u,{color:"blue",loader:"dots",active:t.loading,"onUpdate:active":e[2]||(e[2]=o=>t.loading=o),"is-full-page":!1},null,8,["active"]),s("ul",{disabled:this.loading,class:"list-group"},[(a(!0),i(C,null,y(t.items,o=>(a(),i("li",S,[s("span",w,_(o.des),1),s("a",{title:"حذف",onClick:O=>t.remove(o.id),class:"text-danger rounded-pill float-start"},e[3]||(e[3]=[s("i",{class:"fa fa-trash"},null,-1)]),8,V)]))),256))],8,F),t.items.length==0?(a(),i("div",M," نتیجه‌ای یافت نشد ")):$("",!0)])])])])}const G=c(k,[["render",T]]);export{G as n};
