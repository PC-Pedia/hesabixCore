import{_ as T,S as r,a as c}from"./main-9b36f05f.js";import{a as d,o as j,s as q,b as e,w as n,F as E,_ as P,d as m,t as v,e as o,u as a,ab as i,au as V,ao as y,B as D}from"./vendor-adef9cb4.js";const x={name:"bussiness",data:()=>({tabs:"",loading:!1,moneys:[],content:{name:"",legal_name:"",field:"",type:"مغازه",shenasemeli:"",codeeqtesadi:"",shomaresabt:"",country:"",ostan:"",shahrestan:"",postalcode:"",tel:"",mobile:"",address:"",website:"",email:"",arzmain:[],maliyatafzode:9,zarinpalCode:"",shortlinks:!1,walletEnabled:!1,walletMatchBank:"",year:{},updateSellPrice:!1,updateBuyPrice:!1,profitCalcType:"lis"},listBanks:[]}),methods:{checkBanksExist(){this.listBanks.length===0&&r.fire({text:"هنوز هیچ حساب بانکی تعریف نشده است.",icon:"error",confirmButtonText:"تعریف حساب جدید",cancelButtonText:"بازگشت",showCancelButton:!0}).then(s=>{s.isConfirmed?this.$router.push("/acc/banks/mod/"):this.content.walletEnabled=!1})},submit(){(this.content.year.label===""||this.content.name===""||this.content.legal_name===""||this.content.maliyatafzode==="")&&r.fire({text:"تکمیل موارد ستاره دار الزامی است.",icon:"error",confirmButtonText:"قبول"}),this.content.walletEnabled&&(this.content.walletMatchBank===void 0||this.content.walletMatchBank===null)?r.fire({text:"حساب بانکی متصل به کیف پول انتخاب نشده است",icon:"error",confirmButtonText:"قبول"}):(this.loading=!0,c.post("/api/business/insert",{bid:localStorage.getItem("activeBid"),name:this.content.name,legal_name:this.content.legal_name,field:this.content.field,type:this.content.type,shenasemeli:this.content.shenasemeli,codeeqtesadi:this.content.codeeqtesadi,shomaresabt:this.content.shomaresabt,country:this.content.country,ostan:this.content.ostan,shahrestan:this.content.shahrestan,postalcode:this.content.postalcode,tel:this.content.tel,mobile:this.content.mobile,address:this.content.address,website:this.content.website,email:this.content.email,arzmain:this.content.arzmain,maliyatafzode:this.content.maliyatafzode,zarinpalCode:this.content.zarinpalCode,shortlinks:this.content.shortlinks,walletEnabled:this.content.walletEnabled,walletMatchBank:this.content.walletMatchBank,year:this.content.year,commodityUpdateBuyPriceAuto:this.content.updateBuyPrice,commodityUpdateSellPriceAuto:this.content.updateSellPrice,profitCalcType:this.content.profitCalcType}).then(s=>{this.loading=!1,s.data.result==1?r.fire({text:"با موفقیت ثبت شد.",icon:"success",confirmButtonText:"قبول"}):s.data.result===0&&r.fire({text:"تکمیل موارد ستاره دار الزامی است.",icon:"error",confirmButtonText:"قبول"})}))}},async beforeMount(){this.loading=!0,c.post("/api/money/get/all").then(s=>{this.moneys=s.data,this.content.arzmain=this.moneys[0]}),c.post("/api/business/get/info/"+localStorage.getItem("activeBid")).then(s=>{this.content=s.data,this.loading=!1}),c.post("/api/bank/list").then(s=>{this.listBanks=s.data})}},I={class:"row"},N={class:"col-sm-12 col-md-6 mb-2"},A={class:"form-floating required"},F={class:"col-sm-12 col-md-6 mb-2"},O={class:"form-floating required"},G={class:"col-sm-12 col-md-6 mb-2"},H={class:"form-floating"},J={class:"col-sm-12 col-md-6 mb-2"},K={class:"form-floating"},L={class:"row"},Q={class:"col-sm-12 col-md-6 mb-2"},R={class:"form-floating"},W={class:"col-sm-12 col-md-6 mb-2"},X={class:"form-floating"},Z={class:"col-sm-12 col-md-6 mb-2"},tt={class:"form-floating"},ot={class:"row"},st={class:"col-sm-12 col-md-4 mb-2"},lt={class:"form-floating"},et={class:"col-sm-12 col-md-4 mb-2"},nt={class:"form-floating"},at={class:"col-sm-12 col-md-4 mb-2"},it={class:"form-floating"},dt={class:"col-sm-12 col-md-4 mb-2"},mt={class:"form-floating"},rt={class:"col-sm-12 col-md-4 mb-2"},ut={class:"form-floating"},pt={class:"col-sm-12 col-md-4 mb-2"},ft={class:"form-floating"},bt={class:"row"},ct={class:"col-sm-12 col-md-12 mb-2"},vt={class:"form-floating"},yt={class:"row"},gt={class:"col-sm-12 col-md-6 mb-2"},wt={class:"form-floating"},ht={class:"col-sm-12 col-md-6 mb-2"},kt={class:"form-floating"},Vt={class:"row"},_t={class:"col-sm-12 col-md-6 mb-2"},Bt={class:"form-floating required"},Ut={class:"row"},Mt={class:"col-sm-12 col-md-6 mb-2"},St={class:"form-control"},zt={class:"col-sm-12 col-md-6 mb-2"},Ct={class:"form-control"},Yt={class:"col-sm-12 col-md-12"},$t={class:"form-control mb-2"},Tt={class:"row"},jt={class:"col-sm-12 col-md-8 mb-2"},qt={class:"space-y-2"},Et={class:"form-check form-switch"},Pt={class:"row"},Dt={class:"col-sm-12 col-md-12 mb-2"},xt={class:"space-y-2"},It={class:"form-check form-switch"},Nt={class:"row"},At={class:"col-sm-12 col-md-6"},Ft={class:"col"},Ot={class:"row"},Gt={class:"col-sm-12 col-md-8 mb-2"},Ht={class:"space-y-2"},Jt={class:"form-check form-switch"},Kt={class:"col-sm-12 col-md-8 mb-2"},Lt={class:"space-y-2"},Qt={class:"form-check form-switch"},Rt={class:"col-sm-12 col-md-8 mb-2"},Wt={class:"space-y-2"},Xt={class:"form-floating"},Zt={class:"row"},to={class:"col-sm-12 col-md-8 mb-2"},oo={class:"form-floating required"};function so(s,t,lo,eo,no,g){const w=d("v-btn"),h=d("v-tooltip"),_=d("v-spacer"),B=d("v-icon"),u=d("v-tab"),U=d("v-tabs"),M=d("v-toolbar"),p=d("v-card-text"),f=d("v-card"),b=d("v-tabs-window-item"),k=d("date-picker"),S=d("v-cob"),z=d("v-tabs-window"),C=d("v-col"),Y=d("v-row");return j(),q(E,null,[e(M,{color:"toolbar",title:s.$t("dialog.bid_info")},{prepend:n(()=>[e(h,{text:s.$t("dialog.back"),location:"bottom"},{activator:n(({props:l})=>[e(w,P(l,{onClick:t[0]||(t[0]=$=>s.$router.back()),class:"d-none d-sm-flex",variant:"text",icon:"mdi-arrow-right"}),null,16)]),_:1},8,["text"])]),extension:n(()=>[e(U,{color:"primary",class:"bg-light",grow:"",modelValue:s.tabs,"onUpdate:modelValue":t[2]||(t[2]=l=>s.tabs=l)},{default:n(()=>[e(u,{value:"0"},{default:n(()=>[m(v(s.$t("dialog.basic_info")),1)]),_:1}),e(u,{value:"1"},{default:n(()=>[m(v(s.$t("dialog.year_label")),1)]),_:1}),e(u,{value:"2"},{default:n(()=>[m(v(s.$t("dialog.global_settings")),1)]),_:1}),e(u,{value:"3"},{default:n(()=>[m(v(s.$t("dialog.gate_pay")),1)]),_:1})]),_:1},8,["modelValue"])]),default:n(()=>[e(_),e(w,{loading:s.loading,onClick:t[1]||(t[1]=l=>g.submit()),icon:"",color:"green"},{default:n(()=>[e(h,{activator:"parent",text:s.$t("dialog.save"),location:"bottom"},null,8,["text"]),e(B,{icon:"mdi-content-save"})]),_:1},8,["loading"])]),_:1},8,["title"]),e(Y,{class:"pa-1"},{default:n(()=>[e(C,null,{default:n(()=>[e(z,{modelValue:s.tabs,"onUpdate:modelValue":t[34]||(t[34]=l=>s.tabs=l)},{default:n(()=>[e(b,{value:"0"},{default:n(()=>[e(f,null,{default:n(()=>[e(p,null,{default:n(()=>[t[53]||(t[53]=o("h3",{class:"text-primary"},"اطلاعات کسب و کار",-1)),o("div",I,[o("div",N,[o("div",A,[a(o("input",{class:"form-control",type:"text","onUpdate:modelValue":t[3]||(t[3]=l=>s.content.name=l)},null,512),[[i,s.content.name]]),t[35]||(t[35]=o("label",{class:"form-label"},"نام کسب و کار",-1))])]),o("div",F,[o("div",O,[a(o("input",{class:"form-control",type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>s.content.legal_name=l)},null,512),[[i,s.content.legal_name]]),t[36]||(t[36]=o("label",{class:"form-label"},"نام قانونی کسب و کار",-1))])]),o("div",G,[o("div",H,[a(o("input",{class:"form-control",type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>s.content.field=l)},null,512),[[i,s.content.field]]),t[37]||(t[37]=o("label",null,"زمینه فعالیت",-1))])]),o("div",J,[o("div",K,[a(o("select",{"onUpdate:modelValue":t[6]||(t[6]=l=>s.content.type=l),class:"form-select"},t[38]||(t[38]=[o("option",{value:"شرکت"},"شرکت",-1),o("option",{value:"مغازه"},"مغازه",-1),o("option",{value:"فروشگاه"},"فروشگاه",-1),o("option",{value:"اتحادیه"},"اتحادیه",-1),o("option",{value:"باشگاه"},"باشگاه",-1),o("option",{value:"موسسه"},"موسسه",-1),o("option",{value:"شخصی"},"شخصی",-1)]),512),[[V,s.content.type]]),t[39]||(t[39]=o("label",null,"نوع فعالیت",-1))])])]),t[54]||(t[54]=o("h3",{class:"text-primary"},"اطلاعات اقتصادی",-1)),o("div",L,[o("div",Q,[o("div",R,[a(o("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>s.content.shenasemeli=l),type:"text",class:"form-control"},null,512),[[i,s.content.shenasemeli]]),t[40]||(t[40]=o("label",{class:"form-label"},"شناسه ملی",-1))])]),o("div",W,[o("div",X,[a(o("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>s.content.codeeqtesadi=l),type:"text",class:"form-control"},null,512),[[i,s.content.codeeqtesadi]]),t[41]||(t[41]=o("label",{class:"form-label"},"کد اقتصادی",-1))])]),o("div",Z,[o("div",tt,[a(o("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>s.content.shomaresabt=l),type:"text",class:"form-control"},null,512),[[i,s.content.shomaresabt]]),t[42]||(t[42]=o("label",{class:"form-label"},"شماره ثبت",-1))])])]),t[55]||(t[55]=o("h3",{class:"text-primary"},"اطلاعات تماس",-1)),o("div",ot,[o("div",st,[o("div",lt,[a(o("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>s.content.country=l),type:"text",class:"form-control"},null,512),[[i,s.content.country]]),t[43]||(t[43]=o("label",{class:"form-label"},"کشور",-1))])]),o("div",et,[o("div",nt,[a(o("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>s.content.ostan=l),type:"text",id:"business_new_ostan",name:"business_new[ostan]",maxlength:"50",class:"form-control form-control-sm"},null,512),[[i,s.content.ostan]]),t[44]||(t[44]=o("label",{class:"form-label"},"استان",-1))])]),o("div",at,[o("div",it,[a(o("input",{"onUpdate:modelValue":t[12]||(t[12]=l=>s.content.shahrestan=l),type:"text",id:"business_new_shahr",name:"business_new[shahr]",maxlength:"50",class:"form-control form-control-sm"},null,512),[[i,s.content.shahrestan]]),t[45]||(t[45]=o("label",{class:"form-label"},"شهر",-1))])]),o("div",dt,[o("div",mt,[a(o("input",{"onUpdate:modelValue":t[13]||(t[13]=l=>s.content.postalcode=l),type:"text",id:"business_new_codeposti",name:"business_new[codeposti]",maxlength:"10",class:"form-control form-control-sm"},null,512),[[i,s.content.postalcode]]),t[46]||(t[46]=o("label",{class:"form-label"},"کد پستی",-1))])]),o("div",rt,[o("div",ut,[a(o("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>s.content.tel=l),type:"text",id:"business_new_tel",name:"business_new[tel]",maxlength:"15",class:"form-control form-control-sm"},null,512),[[i,s.content.tel]]),t[47]||(t[47]=o("label",{class:"form-label"},"تلفن",-1))])]),o("div",pt,[o("div",ft,[a(o("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>s.content.mobile=l),type:"tel",id:"business_new_fax",name:"business_new[fax]",maxlength:"15",class:"form-control form-control-sm"},null,512),[[i,s.content.mobile]]),t[48]||(t[48]=o("label",{class:"form-label"},"موبایل",-1))])])]),o("div",bt,[o("div",ct,[o("div",vt,[a(o("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=l=>s.content.address=l),id:"business_new_address",name:"business_new[address]",maxlength:"255",class:"form-control form-control-sm"},null,512),[[i,s.content.address]]),t[49]||(t[49]=o("label",{class:"form-label"},"آدرس",-1))])])]),o("div",yt,[o("div",gt,[o("div",wt,[a(o("input",{"onUpdate:modelValue":t[17]||(t[17]=l=>s.content.website=l),type:"url",id:"business_new_website",name:"business_new[website]",inputmode:"url",class:"form-control form-control-sm"},null,512),[[i,s.content.website]]),t[50]||(t[50]=o("label",{class:"form-label"},"وب‌سایت",-1))])]),o("div",ht,[o("div",kt,[a(o("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>s.content.email=l),type:"email",id:"business_new_email",name:"business_new[email]",maxlength:"255",class:"form-control form-control-sm"},null,512),[[i,s.content.email]]),t[51]||(t[51]=o("label",{class:"form-label"},"پست الکترونیکی",-1))])])]),t[56]||(t[56]=o("h3",{class:"text-primary"},"اطلاعات مالی",-1)),o("div",Vt,[o("div",_t,[o("div",Bt,[a(o("input",{"onUpdate:modelValue":t[19]||(t[19]=l=>s.content.maliyatafzode=l),type:"number",id:"business_new_maliyatafzode",name:"business_new[maliyatafzode]",required:"required",class:"form-control form-control-sm"},null,512),[[i,s.content.maliyatafzode]]),t[52]||(t[52]=o("label",{class:"form-label"},"مالیات بر ارزش افزوده",-1))])])])]),_:1})]),_:1})]),_:1}),e(b,{value:"1"},{default:n(()=>[e(f,null,{default:n(()=>[e(p,null,{default:n(()=>[t[60]||(t[60]=o("h3",{class:"text-primary"},"سال مالی",-1)),o("div",Ut,[o("div",Mt,[o("div",St,[t[57]||(t[57]=o("label",{class:"form-label"},[o("span",{class:"text-danger"},"*"),m(" شروع سال مالی ")],-1)),e(k,{class:"",modelValue:s.content.year.startShamsi,"onUpdate:modelValue":t[20]||(t[20]=l=>s.content.year.startShamsi=l),format:"jYYYY/jMM/jDD","display-format":"jYYYY/jMM/jDD"},null,8,["modelValue"])])]),o("div",zt,[o("div",Ct,[t[58]||(t[58]=o("label",{class:"form-label"},[o("span",{class:"text-danger"},"*"),m(" اتمام سال مالی ")],-1)),e(k,{class:"",modelValue:s.content.year.endShamsi,"onUpdate:modelValue":t[21]||(t[21]=l=>s.content.year.endShamsi=l),format:"jYYYY/jMM/jDD","display-format":"jYYYY/jMM/jDD",min:s.content.year.startShamsi},null,8,["modelValue","min"])])]),o("div",Yt,[o("div",$t,[t[59]||(t[59]=o("label",{class:"form-label"},[o("span",{class:"text-danger"},"*"),m(" عنوان سال مالی ")],-1)),a(o("input",{"onUpdate:modelValue":t[22]||(t[22]=l=>s.content.year.label=l),class:"form-control",type:"text"},null,512),[[i,s.content.year.label]])])])])]),_:1})]),_:1})]),_:1}),e(b,{value:"2"},{default:n(()=>[e(f,null,{default:n(()=>[e(p,null,{default:n(()=>[t[78]||(t[78]=o("h3",{class:"text-primary"},"نمایش پیوند یکتا",-1)),o("div",Tt,[o("div",jt,[o("div",qt,[o("div",Et,[a(o("input",{"onUpdate:modelValue":t[23]||(t[23]=l=>s.content.shortlinks=l),class:"form-check-input",type:"checkbox"},null,512),[[y,s.content.shortlinks]]),t[61]||(t[61]=o("label",{class:"form-check-label"},"فعال‌سازی پیوند‌های یکتا",-1)),t[62]||(t[62]=o("br",null,null,-1)),t[63]||(t[63]=o("label",{class:"text-muted"},"این قابلیت برای تولید پیوند‌های یکتا برای ارسال به مشتری جهت مشاهده فاکتورها است.",-1))])])])]),t[79]||(t[79]=o("h3",{class:"text-primary"},"دریافت مبلغ فاکتور از طریق کیف پول",-1)),o("div",Pt,[o("div",Dt,[o("div",xt,[o("div",It,[a(o("input",{onChange:t[24]||(t[24]=l=>g.checkBanksExist()),"onUpdate:modelValue":t[25]||(t[25]=l=>s.content.walletEnabled=l),class:"form-check-input",type:"checkbox"},null,544),[[y,s.content.walletEnabled]]),t[64]||(t[64]=o("label",{class:"form-check-label"},"فعال‌سازی دریافت آنلاین از طریق کیف پول",-1)),t[65]||(t[65]=o("br",null,null,-1)),t[66]||(t[66]=o("label",{class:"text-muted"},"با فعال سازی این قابلیت قادر خواهید بود مبالغ فاکتورهای ثبت شده را به صورت آنلاین از مشتریان خود دریافت کنید.",-1))])]),a(o("div",Nt,[o("div",At,[t[68]||(t[68]=o("label",{class:"mb-2"},"حساب بانکی متصل به کیف پول",-1)),o("div",Ft,[e(S,{dir:"rtl",options:s.listBanks,label:"name",modelValue:s.content.walletMatchBank,"onUpdate:modelValue":t[26]||(t[26]=l=>s.content.walletMatchBank=l),"onOption:deselecting":t[27]||(t[27]=()=>{}),"onSearch:focus":t[28]||(t[28]=()=>{}),"onOption:selecting":t[29]||(t[29]=()=>{})},{"no-options":n(({search:l,searching:$,loading:ao})=>t[67]||(t[67]=[m(" نتیجه‌ای یافت نشد! ")])),_:1},8,["options","modelValue"])])]),t[69]||(t[69]=o("label",{class:"text-muted"},"برای تسویه اتوماتیک به حساب انتخاب شده حتما باید تمام موارد از جمله شماره شبا و شماره کارت و ... به درستی تکمیل شده باشد در غیر این صورت تراکنش با خطا مواجه خواهد شد.",-1))],512),[[D,s.content.walletEnabled]])])]),t[80]||(t[80]=o("h3",{class:"text-primary"},"کالا و خدمات",-1)),o("div",Ot,[o("div",Gt,[o("div",Ht,[o("div",Jt,[a(o("input",{"onUpdate:modelValue":t[30]||(t[30]=l=>s.content.updateBuyPrice=l),class:"form-check-input",type:"checkbox"},null,512),[[y,s.content.updateBuyPrice]]),t[70]||(t[70]=o("label",{class:"form-check-label"},"به روز رسانی قیمت خرید هنگام صدور فاکتور",-1)),t[71]||(t[71]=o("br",null,null,-1)),t[72]||(t[72]=o("label",{class:"text-muted"},"با صدور فاکتور خرید یا برگشت از خرید قیمت خرید کالا و خدمات به روزرسانی خواهد شد.",-1))])])]),o("div",Kt,[o("div",Lt,[o("div",Qt,[a(o("input",{"onUpdate:modelValue":t[31]||(t[31]=l=>s.content.updateSellPrice=l),class:"form-check-input",type:"checkbox"},null,512),[[y,s.content.updateSellPrice]]),t[73]||(t[73]=o("label",{class:"form-check-label"},"به روز رسانی قیمت فروش هنگام صدور فاکتور",-1)),t[74]||(t[74]=o("br",null,null,-1)),t[75]||(t[75]=o("label",{class:"text-muted"},"با صدور فاکتور فروش یا برگشت از فروش قیمت خرید کالا و خدمات به روزرسانی خواهد شد.",-1))])])]),o("div",Rt,[o("div",Wt,[o("div",Xt,[a(o("select",{class:"form-select","onUpdate:modelValue":t[32]||(t[32]=l=>s.content.profitCalcType=l)},t[76]||(t[76]=[o("option",{value:"simple"},"بر اساس اختلاف قیمت خرید و فروش",-1),o("option",{value:"lis"},"بر اساس آخرین قیمت ورود به انبار",-1),o("option",{value:"avgis"},"بر اساس میانگین قیمت ورود به انبار",-1)]),512),[[V,s.content.profitCalcType]]),t[77]||(t[77]=o("label",{for:"floatingSelect"},"نحوه محاسبه سود فاکتور",-1))])])])])]),_:1})]),_:1})]),_:1}),e(b,{value:"3"},{default:n(()=>[e(f,null,{default:n(()=>[e(p,null,{default:n(()=>[t[83]||(t[83]=o("h3",{class:"text-primary"},"درگاه پرداخت زرین پال",-1)),o("div",Zt,[o("div",to,[o("div",oo,[a(o("input",{class:"form-control",type:"text","onUpdate:modelValue":t[33]||(t[33]=l=>s.content.zarinpal=l)},null,512),[[i,s.content.zarinpal]]),t[81]||(t[81]=o("label",{class:"form-label"},"کد شناسایی: مثال a1104652-18b9-4b63-911c-0a5046e61be1",-1))]),t[82]||(t[82]=o("label",{class:"text-muted mt-2"},"برای غیر فعال کردن درگاه پرداخت آن را خالی بگذارید. در صورت اشتباه بودن کد وارد شده × مشتری در هنگام تسویه فاکتورها با خطا مواجه خواهد شد.",-1))])])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})],64)}const ro=T(x,[["render",so],["__scopeId","data-v-86bb7d66"]]);export{ro as default};
